!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Pages||(t.Pages={})).BookHome=e()}}(function(){var e;return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return i(r?r:e)},p,p.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";function n(e,t){var r=e.book,n=r.title;return t&&(n=t+" - "+n),n}function i(e,t){var r=e.book,n=r.name+": "+r.description;return t&&(n=t+" - "+n),n}function o(e){var t=e.book;return[{property:"robots",content:w(t.status)?"index, follow":"noindex, nofollow"}]}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=e("react"),c=e("pluralize"),l=e("gitbook-styleguide/lib/PageInner"),p=e("gitbook-styleguide/lib/Container"),u=e("gitbook-styleguide/lib/PageHead"),d=e("gitbook-styleguide/lib/Menu"),h=e("gitbook-styleguide/lib/Overview"),f=e("gitbook-styleguide/lib/Button"),m=e("gitbook-styleguide/lib/Icon"),g=e("gitbook-styleguide/lib/Date"),y=e("./Page"),v=e("../utils/BookStarButton"),b=e("../utils/BookSubscribeButton"),_=e("../utils/BookEditButton"),k=(e("../shapes/book"),e("../../shared/getBookURL")),w=e("../../shared/isBookIndexable"),E=e("../../constants/BOOK_STATUS"),T={ABOUT:"details",DISCUSSIONS:"discussions",CHANGES_REQUESTS:"changes",ACTIVITY:"activity",TRAFFIC:"traffic",SETTINGS:"settings"},x=a.createClass({displayName:"BookPage",statics:{TABS:T,getTitle:n,getDescription:i,getMetas:o},getDefaultProps:function(){return{edit:!0}},render:function(){var e=this.props,t=e.book,r=e.active,n=e.id,i=e.edit,o=t.permissions.edit,w=t.permissions.admin,x=[E.PUBLISHING,E.UPDATING].includes(t.status)?a.createElement(m,{id:"sync",spin:!0}):t.counts.updates.toLocaleString();return a.createElement(y,s({},this.props,{withPageHead:!0,withMigrationAlert:!0,migrationAuthor:t.author}),a.createElement("div",{id:n,className:"BookPage"},a.createElement(u,null,a.createElement(p,{className:"clearfix"},a.createElement(h,null,a.createElement(h.Title,null,a.createElement(h.StepTitle,{href:t.author.urls.profile},t.author.username),a.createElement(h.StepDivider,null),a.createElement(h.StepTitle,{primary:!0},t.public?null:a.createElement("span",{className:"TitlePrivateIndicator"},a.createElement(m,{id:"lock"})),t.title)),a.createElement(h.Note,null,t.dates.build?"Updated":"Created"," ",a.createElement(g,{date:t.dates.build||t.dates.created})))),a.createElement(p,{className:"clearfix"},a.createElement(d,{left:!0},a.createElement(d.Item,{active:r===T.ABOUT,href:k(t.id,T.ABOUT)},"About"),t.features.discussions?a.createElement(d.Item,{active:r===T.DISCUSSIONS,href:k(t.id,T.DISCUSSIONS)},t.counts.discussions.toLocaleString()," ",c("Discussions",t.counts.discussions)):"",a.createElement(d.Item,{active:r===T.CHANGES_REQUESTS,href:k(t.id,T.CHANGES_REQUESTS)},t.counts.changeRequests.toLocaleString()," ",c("Change Request",t.counts.changeRequests)),o?a.createElement(d.Item,{active:r===T.ACTIVITY,href:k(t.id,T.ACTIVITY)},x," ",c("Updates",t.counts.updates)):"",w?a.createElement(d.Item,{active:r===T.TRAFFIC,href:k(t.id,T.TRAFFIC)},"Traffic"):"",w?a.createElement(d.Item,{active:r===T.SETTINGS,href:k(t.id,T.SETTINGS)},"Settings"):""),a.createElement(f.Toolbar,{className:"pull-right head-toolbar"},a.createElement(v,{book:t,size:"sm"}),a.createElement(b,{book:t,size:"sm"}),i&&o?a.createElement(_,{book:t,size:"sm",style:"primary"}):""))),a.createElement(l,null,a.createElement(p,null,this.props.children))))}});t.exports=x},{"../../constants/BOOK_STATUS":24,"../../shared/getBookURL":29,"../../shared/isBookIndexable":34,"../shapes/book":8,"../utils/BookEditButton":15,"../utils/BookStarButton":17,"../utils/BookSubscribeButton":18,"./Page":5,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Container":45,"gitbook-styleguide/lib/Date":46,"gitbook-styleguide/lib/Icon":49,"gitbook-styleguide/lib/Menu":53,"gitbook-styleguide/lib/Overview":54,"gitbook-styleguide/lib/PageHead":57,"gitbook-styleguide/lib/PageInner":59,pluralize:73,react:"react"}],2:[function(e,t,r){"use strict";function n(e){var t=o.parse(e,!0);t.query=t.query||{};var r={};return d.forEach(function(e){t.query[e]&&(r[e]=t.query[e])}),r}var i=e("react"),o=e("url"),s=e("gitbook-styleguide/lib/isServerSide"),a=s?{}:e("mixpanel-browser"),c=e("gitbook-styleguide/lib/Date"),l=e("../shapes/request"),p=e("../shapes/config"),u=e("../shapes/author"),d=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],h=i.createClass({displayName:"ContextProvider",childContextTypes:{req:l,config:p,currentUser:u,orgs:i.PropTypes.arrayOf(u)},getChildContext:function(){var e=this.props,t=e.req,r=e.config,n=e.currentUser,i=e.orgs;return{req:t,config:r,currentUser:n,orgs:i}},identify:function(){var e=this.props.currentUser,t=n(document.URL),r={};d.forEach(function(e){r["Initial "+e]=t[e]||""}),e&&a.identify(e.id),a.people.set(t),a.people.set_once(r)},componentDidMount:function(){var e=this.props.config;e.mixpanelToken&&(a.init(e.mixpanelToken),this.identify())},componentDidUpdate:function(){var e=this.props.config;e.mixpanelToken&&this.identify()},render:function(){var e=this.props.req;return i.createElement(c.Context,{now:e.date},i.Children.only(this.props.children))}});t.exports=h},{"../shapes/author":7,"../shapes/config":9,"../shapes/request":11,"gitbook-styleguide/lib/Date":46,"gitbook-styleguide/lib/isServerSide":68,"mixpanel-browser":71,react:"react",url:88}],3:[function(e,t,r){"use strict";var n=e("react"),i=e("gitbook-styleguide/lib/PageFooter"),o=e("gitbook-styleguide/lib/Menu"),s=e("gitbook-styleguide/lib/Container"),a=e("../../constants/URLS"),c=n.createClass({displayName:"Footer",render:function(){return n.createElement(i,null,n.createElement("div",{className:"Footer"},n.createElement(s,null,n.createElement(i.Logo,null),n.createElement(o,null,n.createElement(o.Item,{href:"/about"},"About"),n.createElement(o.Item,{href:a.DOCUMENTATION},"Help"),n.createElement(o.Item,{href:"/explore"},"Explore"),n.createElement(o.Item,{href:"/editor"},"Editor"),n.createElement(o.Item,{href:"/blog"},"Blog"),n.createElement(o.Item,{href:"/pricing"},"Pricing"),n.createElement(o.Item,{href:"mailto:support@gitbook.com"},"Contact"),n.createElement(i.Copyright,null)))))}});t.exports=c},{"../../constants/URLS":27,"gitbook-styleguide/lib/Container":45,"gitbook-styleguide/lib/Menu":53,"gitbook-styleguide/lib/PageFooter":56,react:"react"}],4:[function(e,t,r){"use strict";var n=e("react"),i=e("gitbook-styleguide/lib/PageHeader"),o=e("gitbook-styleguide/lib/Container"),s=e("gitbook-styleguide/lib/Button"),a=e("gitbook-styleguide/lib/Dropdown"),c=e("gitbook-styleguide/lib/Avatar"),l=e("gitbook-styleguide/lib/Icon"),p=e("../utils/NotificationsIndicator"),u=e("../utils/DevTools"),d=e("../../shared/isProduction"),h=e("../shapes/request"),f=e("../shapes/config"),m=e("../shapes/author"),g=n.createClass({displayName:"Header",contextTypes:{req:h,config:f,currentUser:m,orgs:n.PropTypes.arrayOf(m)},renderModeratorMenu:function(){var e=this.context.config;return[n.createElement(a.Header,{key:"admin/header"},"Administration"),e.isEnterprise?n.createElement(a.Item,{key:"admin/setup",href:"/setup"},"Enterprise Setup"):"",n.createElement(a.Item,{key:"admin",href:"/admin"},"Dashboard"),n.createElement(a.Item,{key:"admin/users",href:"/admin/users"},"Users"),n.createElement(a.Item,{key:"admin/jobs",href:"/admin/jobs/active"},"Active Jobs"),n.createElement(a.Divider,{key:"admin/divider"})]},renderLoggedin:function(){var e=this.props.author,t=this.context,r=t.req,i=t.orgs,o=t.currentUser,u="/logout?_csrf="+r.csrfToken,d="/new";return e&&"Organization"==e.type&&(d+="?author="+encodeURIComponent(e.username)),n.createElement("div",null,n.createElement(a,{className:"pull-right"},n.createElement(s,{style:"link"},n.createElement(c,{size:"sm",src:o.urls.avatar}),n.createElement(s.Caret,null)),n.createElement(a.Header,null,"Signed in as ",n.createElement("b",null,o.username)),n.createElement(a.Divider,null),n.createElement(a.Item,{href:o.urls.profile},"Your Profile"),n.createElement(a.Item,{href:o.urls.stars},"Your Stars"),n.createElement(a.Item,{href:"/settings"},"Account Settings"),n.createElement(a.Divider,null),n.createElement(a.Header,null,"Organizations"),i.map(function(e){return n.createElement(a.Item,{key:e.username,href:e.urls.profile},e.name)}),n.createElement(a.Item,{href:"/organizations/new"},n.createElement(l,{id:"plus"})," New organization"),n.createElement(a.Divider,null),o.site_admin?this.renderModeratorMenu():"",n.createElement(a.Item,{href:u},"Sign out")),n.createElement(s,{href:d,className:"pull-right btn-newbook"},n.createElement(l,{id:"plus"})," New"),n.createElement(p,null))},renderVisitor:function(){var e=this.context.config;return n.createElement("div",null,n.createElement(s,{href:"/join",style:"primary",className:"pull-right hidden-xs btn-signup"},"Sign Up"),n.createElement(s,{href:"/login",style:"link",className:"pull-right hidden-xs btn-login"},"Sign In"),e.isEnterprise?null:n.createElement(s,{href:"/pricing",style:"link"},"Pricing"),n.createElement(s,{href:"/explore",style:"link"},"Explore"),e.isEnterprise?null:n.createElement(s,{href:"/about",style:"link"},"About"),e.hasBlog?n.createElement(s,{href:"/blog",style:"link"},"Blog"):"")},render:function(){var e=this.context,t=e.currentUser,r=e.config,s=t&&t.site_admin,a=!r.isEnterprise&&(s||!d());return n.createElement(i,null,n.createElement(o,null,n.createElement(i.Logo,{href:"/"}),n.createElement("a",{className:"WeAreHiring",href:"/about"},"We are hiring!"),t?this.renderLoggedin():this.renderVisitor()),a?n.createElement(u,null):null)}});t.exports=g},{"../../shared/isProduction":36,"../shapes/author":7,"../shapes/config":9,"../shapes/request":11,"../utils/DevTools":19,"../utils/NotificationsIndicator":22,"gitbook-styleguide/lib/Avatar":41,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Container":45,"gitbook-styleguide/lib/Dropdown":47,"gitbook-styleguide/lib/Icon":49,"gitbook-styleguide/lib/PageHeader":58,react:"react"}],5:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=e("react"),o=e("gitbook-styleguide/lib/PageWrapper"),s=e("gitbook-styleguide/lib/PageBody"),a=e("./Header"),c=e("./Footer"),l=e("./ContextProvider"),p=e("../utils/NPSSurvey"),u=(e("../shapes/author"),e("../shapes/book"),e("../utils/AccountMigratedAlert")),d=i.createClass({displayName:"Page",render:function(){var e=this.props,t=e.author,r=e.withPageHead,d=e.migrationAuthor,h=e.withMigrationAlert,f=e.children,m=n(e,["author","withPageHead","migrationAuthor","withMigrationAlert","children"]);return i.createElement(l,m,i.createElement(o,{withPageHead:r},h&&i.createElement(u,{author:d}),i.createElement(a,{author:t}),i.createElement(s,null,f),i.createElement(c,null),i.createElement(p,null)))}});t.exports=d},{"../shapes/author":7,"../shapes/book":8,"../utils/AccountMigratedAlert":13,"../utils/NPSSurvey":20,"./ContextProvider":2,"./Footer":3,"./Header":4,"gitbook-styleguide/lib/PageBody":55,"gitbook-styleguide/lib/PageWrapper":60,react:"react"}],6:[function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=e("react"),o=e("react-sticky"),s=o.StickyContainer,a=o.Sticky,c=e("gitbook-styleguide/lib/Blankslate"),l=e("gitbook-styleguide/lib/Button"),p=e("gitbook-styleguide/lib/Dropdown"),u=e("gitbook-styleguide/lib/Icon"),d=e("gitbook-styleguide/lib/Markdown"),h=e("gitbook-styleguide/lib/Panel"),f=e("../layout/BookPage"),m=e("../utils/BookEditButton"),g=e("../utils/BookGitHubAlert"),y=(e("../shapes/book"),e("../../shared/getBookURL")),v=(i.PropTypes.shape({lang:i.PropTypes.string,title:i.PropTypes.string}),i.createClass({displayName:"BookBlankSlate",render:function(){return i.createElement(h,null,i.createElement(h.Body,null,i.createElement(c,{icon:"book"},i.createElement("h3",null,"Come back later!"),i.createElement("p",null,"This book is still in preparation by its author."))))}})),b=i.createClass({displayName:"LanguageSelector",renderLang:function(e){var t=this.props,r=t.book,n=t.selected,o=y(r.id,"details/"+e.lang);return i.createElement(p.Item,{key:e.lang,href:o},n.lang==e.lang?i.createElement(u,{id:"check"}):null," ",e.title)},render:function(){var e=this.props,t=e.list,r=e.selected;return i.createElement(p,null,i.createElement(l,null,i.createElement("b",null,"Language:")," ",r.title," ",i.createElement(l.Caret,null)),t.map(this.renderLang))}}),_=i.createClass({displayName:"BookReadme",getDownloadURL:function(e){var t=this.props,r=t.book,n=t.language;return r.urls.download[e]+(n?"?lang="+n.lang:"")},render:function(){var e=this.props,t=e.book,r=e.readme,n=e.languages,o=e.language,c=e.hasEbooksVersion,f=t.permissions.edit;return i.createElement(s,null,i.createElement(h,null,i.createElement(a,null,i.createElement(h.Heading,null,i.createElement(l.Toolbar,null,n.length>0?i.createElement(b,{list:n,selected:o,book:t}):null,i.createElement(l.Group,{pull:"right"},i.createElement(l,{"data-nopjax":!0,href:t.urls.read,style:"success"},i.createElement("b",null,"Read"))),f?i.createElement(m,{pull:"right",book:t}):null,c?i.createElement(p,{pull:"right"},i.createElement(l,{href:this.getDownloadURL("pdf"),"data-nopjax":!0},i.createElement(u,{id:"file-pdf"})," Download PDF"),i.createElement(l,null,i.createElement(l.Caret,null)),i.createElement(p.Item,{href:this.getDownloadURL("mobi"),"data-nopjax":!0},i.createElement(u,{id:"file-zip"})," Download Mobi"),i.createElement(p.Item,{href:this.getDownloadURL("epub"),"data-nopjax":!0},i.createElement(u,{id:"file-zip"})," Download ePub")):null))),i.createElement(h.Body,null,i.createElement(d,{className:"BookAbout",source:r.content[0].content}))))}}),k=i.createClass({displayName:"BookHome",render:function(){var e=this.props.book;return i.createElement(f,n({},this.props,{id:"BookHome",active:f.TABS.ABOUT,edit:!1}),i.createElement(g,{book:e}),e.dates.build?i.createElement(_,this.props):i.createElement(v,null))}});t.exports=k,t.exports.title=f.getTitle,t.exports.description=f.getDescription,t.exports.metas=f.getMetas},{"../../shared/getBookURL":29,"../layout/BookPage":1,"../shapes/book":8,"../utils/BookEditButton":15,"../utils/BookGitHubAlert":16,"gitbook-styleguide/lib/Blankslate":43,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Dropdown":47,"gitbook-styleguide/lib/Icon":49,"gitbook-styleguide/lib/Markdown":52,"gitbook-styleguide/lib/Panel":61,react:"react","react-sticky":84}],7:[function(e,t,r){"use strict";var n=e("react"),i={USER:"User",ORGANIZATION:"Organization"},o=n.PropTypes,s=o.string,a=o.bool,c=o.number,l=o.oneOf,p=o.shape,u={id:s,migrationId:s,hasMigrated:a,migrationUrl:s,type:l([i.USER,i.ORGANIZATION]).isRequired,username:s.isRequired,name:s.isRequired,location:s,website:s,bio:s,email:s,site_admin:a,urls:p({profile:s,stars:s,avatar:s,members:s}),permissions:p({edit:a,admin:a,leave:a}),counts:p({members:c,invitations:c}),dates:p({created:s}),twitter:p({username:s}),github:p({username:s})};t.exports=p(u),t.exports.TYPES=i,t.exports.PROPERTIES=u},{react:"react"}],8:[function(e,t,r){"use strict";var n=e("react"),i=e("./author"),o=e("../../constants/BOOK_STATUS"),s=Object.keys(o).map(function(e){return o[e]}),a=n.PropTypes,c=a.string,l=a.bool,p=a.number,u=a.arrayOf,d=a.oneOf,h=a.shape;t.exports=h({id:c,migrationId:c,status:d(s),name:c,title:c,description:c,topics:u(c),author:i,public:l,license:c,language:c,defaultBranch:c,collaborators:u(i),github:h({id:c,git:c}),dates:h({build:c,updated:c,created:c}),permissions:h({edit:l,admin:l,important:l}),cover:h({large:c,small:c}),urls:h({git:c,access:c,homepage:c,read:c,edit:c,settings:h({main:c,github:c}),download:h({epub:c,mobi:c,pdf:c})}),counts:h({stars:p,subscriptions:p,updates:p,discussions:p}),builder:c,features:h({discussions:l,comments:l})})},{"../../constants/BOOK_STATUS":24,"./author":7,react:"react"}],9:[function(e,t,r){"use strict";var n=e("react"),i=n.PropTypes,o=i.string,s=i.bool,a=i.shape;t.exports=a({version:o.isRequired,hasBlog:s.isRequired,isEnterprise:s.isRequired,mainHost:o.isRequired,stripePublicKey:o.isRequired,apiHost:o,gaToken:o,mixpanelToken:o,github:a({integrationUrl:o})})},{react:"react"}],10:[function(e,t,r){"use strict";var n=e("react"),i=e("./author"),o=e("./book");t.exports=n.PropTypes.shape({id:n.PropTypes.string.isRequired,type:n.PropTypes.string.isRequired,user:i.isRequired,book:o,from:i,read:n.PropTypes.bool,dates:n.PropTypes.shape({created:n.PropTypes.string.isRequired,readAt:n.PropTypes.string}),urls:n.PropTypes.shape({markAsRead:n.PropTypes.string.isRequired,redirectLink:n.PropTypes.string}),thread:n.PropTypes.object,discussion:n.PropTypes.object,comment:n.PropTypes.object,subscription:n.PropTypes.object,charge:n.PropTypes.object,build:n.PropTypes.object,organization:i})},{"./author":7,"./book":8,react:"react"}],11:[function(e,t,r){"use strict";var n=e("react");t.exports=n.PropTypes.shape({csrfToken:n.PropTypes.string,query:n.PropTypes.object,url:n.PropTypes.string})},{react:"react"}],12:[function(e,t,r){"use strict";var n=e("react"),i=n.PropTypes,o=i.string,s=i.shape,a=e("./author"),c=e("./book");t.exports=s({user:a,book:c,dates:s({created:o})})},{"./author":7,"./book":8,react:"react"}],13:[function(e,t,r){"use strict";var n=e("react"),i=e("gitbook-styleguide/lib/Button"),o=e("gitbook-styleguide/lib/Container"),s=e("gitbook-styleguide/lib/Icon"),a=(e("../shapes/author"),e("../shapes/config")),c=n.createClass({displayName:"AccountMigratedAlert",contextTypes:{config:a},render:function(){var e=this.props.author,t=this.context.config;if(!e.migrationId&&!e.migrationUrl)return null;var r=e.migrationId?"And login with your GitBook.com credentials":null,a=e.migrationId?"Try now!":"Upgrade now!";return n.createElement("div",{className:"AccountMigratedAlert"},n.createElement(o,null,n.createElement("div",{className:"AccountMigratedAlertInner"},n.createElement("div",{className:"AccountMigratedAlertText"},n.createElement(s,{id:"gift",className:"AccountMigratedAlertIcon"}),e.migrationId?n.createElement("span",null,"See what ",n.createElement("a",{href:e.migrationUrl,target:"_blank"},n.createElement("b",null,e.name)),"'s content looks like in the"," ",n.createElement("a",{href:t.betaHost,target:"_blank"},n.createElement("b",null,"new GitBook"))):n.createElement("span",null,"Upgrade ",n.createElement("a",{href:e.migrationUrl,target:"_blank"},n.createElement("b",null,e.name))," to the"," ",n.createElement("a",{href:t.betaHost,target:"_blank"},n.createElement("b",null,"new GitBook")))),n.createElement(i,{className:"AlertButton pull-right AccountMigratedAlertButton",style:"secondary",title:r,target:"_blank",href:e.migrationUrl},a))))}});t.exports=c},{"../shapes/author":7,"../shapes/config":9,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Container":45,"gitbook-styleguide/lib/Icon":49,react:"react"}],14:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("querystring"),a=function(){function e(t,r){n(this,e),this.endpoint=t.apiHost||"/api",this.auth=r?btoa(r.username+":"+r.auth.token):null,this.headers={Accept:"application/json","Content-Type":"application/json",Authorization:this.auth?"Basic "+this.auth:void 0}}return o(e,[{key:"isAuthenticated",value:function(){return Boolean(this.auth)}},{key:"endpointUrl",value:function(e,t){return this.endpoint+e+(t?"?"+s.stringify(t):"")}},{key:"request",value:function(e,t){var r=this;t=t||{};var n={method:t.method||"GET",headers:i({},this.headers,t.headers||{})};return Boolean(t.data)&&(n.body=JSON.stringify(t.data)),e=this.endpointUrl(e,t.params),fetch(e,n).then(function(e){return r.parseResponse(e)})}},{key:"delete",value:function(e,t){return this.request(e,{method:"DELETE",params:t})}},{key:"get",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,i({},r,{params:t}))}},{key:"patch",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request(e,i({},n,{method:"PATCH",data:t,params:r}))}},{key:"post",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request(e,i({},n,{method:"POST",data:t,params:r}))}},{key:"put",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request(e,i({},n,{method:"PUT",data:t,params:r}))}},{key:"parseResponse",value:function(e){var t=e.headers.get("Content-Type");if(!e.ok)return this.parseError(e);if(t.indexOf("application/json")<0)throw new Error("Invalid content type for response");return e.json()}},{key:"parseError",value:function(e){return e.json().then(function(t){var r=new Error(t.error);return r.code=t.code||0,r.response=e,Promise.reject(r)})}}]),e}();t.exports=a},{querystring:78}],15:[function(e,t,r){"use strict";var n=e("react"),i=e("gitbook-styleguide/lib/Icon"),o=e("gitbook-styleguide/lib/Button"),s=e("gitbook-styleguide/lib/Popover"),a=e("gitbook-styleguide/lib/Input"),c=e("gitbook-styleguide/lib/Form"),l=e("gitbook-styleguide/lib/Backdrop"),p=(e("../shapes/book"),n.createClass({displayName:"BookEditButton",getInitialState:function(){return{opened:!1}},onToggle:function(){var e=this.state.opened;this.setState({opened:!e})},onClose:function(){this.setState({opened:!1})},renderPopover:function(){var e=this.props.book;return n.createElement(l,{onClose:this.onClose},n.createElement(s,{position:"bottom-left"},n.createElement(s.Body,null,n.createElement(c.Group,null,n.createElement(o,{href:"https://legacy.gitbook.com/editor",block:!0,target:"_blank"},n.createElement(i,{id:"device-desktop"})," Open in Desktop")),n.createElement(c.HelpBlock,null,n.createElement(i,{id:"question"})," Clone and push changes with Git HTTPS."),n.createElement(a,{value:e.urls.git,readOnly:!0,onClick:function(e){return e.target.select()}}))))},render:function(){var e=this.props,t=e.book,r=e.size,a=e.style,c=e.pull,l=e.text,p=this.state.opened;return n.createElement(s.Container,{className:c?"pull-"+c:""},n.createElement(o.Group,null,n.createElement(o,{style:a,size:r,href:t.urls.edit},n.createElement(i,{id:"pencil"})," ",l||"Edit"),n.createElement(o,{style:a,size:r,onClick:this.onToggle},n.createElement(o.Caret,null))),p?this.renderPopover():null)}}));t.exports=p},{"../shapes/book":8,"gitbook-styleguide/lib/Backdrop":42,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Form":48,"gitbook-styleguide/lib/Icon":49,"gitbook-styleguide/lib/Input":50,"gitbook-styleguide/lib/Popover":62,react:"react"}],16:[function(e,t,r){"use strict";var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("react"),o=e("gitbook-styleguide/lib/Alert"),s=e("gitbook-styleguide/lib/Button"),a=e("gitbook-styleguide/lib/Icon"),c=(e("../shapes/book"),e("../../shared/getProfileURL")),l=e("../../shared/isBookLinkedToGitHub"),p=e("../../shared/hasGitHubIntegration"),u=e("../../shared/bookMightBeInvalidOnGitHub"),d=e("../../shared/getGitHubIntegrationSettingsURL"),h=i.createClass({displayName:"BookGitHubAlert",getDefaultProps:function(){return{upgradeButton:!0}},render:function(){var e=this.props,t=e.book,r=e.upgradeButton,h=e.unlinkedBook;if(t=t||h,!t.permissions.admin||!l(t))return null;if(!p(t.author)){var f=r?i.createElement("span",null,"to continue editing this book"):i.createElement("span",null,"using the form below");return i.createElement(o.Warning,{className:"BookGitHubAlert"},i.createElement("div",null,i.createElement(a,{className:"AlertIcon",id:"mark-github"}),i.createElement("p",{className:"AlertText"},"The book ",i.createElement("b",null,t.id)," is linked to a GitHub repository.",i.createElement("br",null),"Upgrade this account to our new GitHub integration ",f,"."),r?i.createElement(s,{className:"AlertButton pull-right",style:"success",href:c(t.author.username,"settings/github")},"Upgrade"):null))}if(u(t.github.id,t.author.github.username)){var m=t.github.id.split("/"),g=n(m,1),y=g[0];return i.createElement(o.Warning,{className:"BookGitHubAlert",closable:!0},i.createElement("p",null,i.createElement(a,{id:"alert"})," The book ",i.createElement("b",null,t.id)," is linked to a repository that seems to belong to the ",i.createElement("b",null,y)," GitHub organization.",i.createElement("br",null),"In order to continue editing it, please:"),i.createElement("ol",{className:"AlertList"},i.createElement("li",null,"Create a GitBook organization,"),i.createElement("li",null,"Sync it with the ",i.createElement("b",null,y)," GitHub organization using our integration,"),i.createElement("li",null,"Transfer the ownership of this book to this organization.")))}return"undefined"==typeof t.isLinked||t.isLinked?null:i.createElement(o.Warning,{className:"BookGitHubAlert"},i.createElement(o.Button,{href:d(t.author),target:"_blank"},"Configure"),i.createElement(a,{id:"alert"})," GitBook does not have the permissions to access every GitHub repositories linked to your books."," ","Please add them to your configuration to continue editing your books.")}});t.exports=h},{"../../shared/bookMightBeInvalidOnGitHub":28,"../../shared/getGitHubIntegrationSettingsURL":30,"../../shared/getProfileURL":32,"../../shared/hasGitHubIntegration":33,"../../shared/isBookLinkedToGitHub":35,"../shapes/book":8,"gitbook-styleguide/lib/Alert":40,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Icon":49,react:"react"}],17:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("gitbook-styleguide/lib/Button"),a=e("gitbook-styleguide/lib/Icon"),c=(e("../shapes/book"),e("../shapes/author")),l=e("../shapes/config"),p=e("./ApiClient"),u=e("../../shared/getBookURL"),d=e("./history"),h="Unstar",f="Star",m=o.createClass({displayName:"BookStarButton",contextTypes:{config:l,currentUser:c},getDefaultProps:function(){return{active:null,count:!0}},getInitialState:function(){return{loading:!1,active:!1,serverActive:!1}},onClick:function(e){var t=this;e.preventDefault();var r=this.props.book,n=this.state.active,i="boolean"!=typeof n;if(!this.api.isAuthenticated())return d.navigateTo("/join");if(!i){var o=!n;this.setState({active:o,loading:!0}),this.api.post("/book/"+r.id+"/stars").then(function(){t.setState({loading:!1})},function(){t.setState({loading:!1,active:n})})}},fetchStatus:function(e){var t=this,r=e.book,n=this.context,i=n.config,o=n.currentUser;this.api=new p(i,o),this.api.isAuthenticated()&&this.api.get("/book/"+r.id+"/stars/status").then(function(e){t.setState({active:e.active,serverActive:e.active})})},componentDidMount:function(){this.fetchStatus(this.props)},componentWillReceiveProps:function(e){e.book.id!=this.props.book.id&&(this.setState(this.getInitialState()),this.fetchStatus(e))},render:function(){var e=this.props,t=e.book,r=e.count,c=n(e,["book","count"]),l=this.state,p=l.active,d=l.serverActive,m=u(t.id,"stars"),g=0;return p!=d&&(g=p?1:-1),o.createElement(s.Group,null,o.createElement(s,i({onClick:this.onClick},c),o.createElement(a,{id:"star"})," "+(p?h:f)),r?o.createElement(s,i({style:"count",href:m},c),t.counts.stars+g):null)}});t.exports=m},{"../../shared/getBookURL":29,"../shapes/author":7,"../shapes/book":8,"../shapes/config":9,"./ApiClient":14,"./history":23,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Icon":49,react:"react"}],18:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("gitbook-styleguide/lib/Icon"),a=e("gitbook-styleguide/lib/Button"),c=e("gitbook-styleguide/lib/Dropdown"),l=(e("../shapes/book"),e("../shapes/author")),p=e("../shapes/config"),u=(e("../shapes/subscription"),e("../../shared/getBookURL")),d=e("../../constants/SUBSCRIPTION_NOTIFS"),h=e("./ApiClient"),f=e("./history"),m="Unsubscribe",g="Subscribe",y=o.createClass({displayName:"BookSubscribeButton",contextTypes:{config:p,currentUser:l},getDefaultProps:function(){return{count:!0}},getInitialState:function(){var e=this.props,t=e.subscription,r=e.book;return{count:r.counts.subscriptions,status:t?{active:!0,subscription:t}:null}},loadForProps:function(e){var t=this,r=e.book,n=e.subscription,i=this.context,o=i.config,s=i.currentUser;if(n)return this.setState({status:{active:!0,subscription:n}});if(s){var a=new h(o,s);a.get("/book/"+r.id+"/subscriptions/status").then(function(e){t.setState({status:e})})}},componentDidMount:function(){this.loadForProps(this.props)},componentWillReceiveProps:function(e){e.book.id!=this.props.book.id&&this.loadForProps(e)},onToggle:function(e){var t=this;e.preventDefault();var r=this.props.book,n=this.state,i=n.status,o=n.count,s=this.context,a=s.config,c=s.currentUser,l=new h(a,c);if(!l.isAuthenticated())return f.navigateTo("/join");if(i){var p=!i.active;this.setState({count:p?o+1:o-1}),l.post("/book/"+r.id+"/subscriptions").then(function(e){t.setState({status:e})},function(){t.setState({status:i,count:o})})}},onToggleNotif:function(e){var t=this,r=this.props.book,n=this.state.status,i=this.context,o=i.config,s=i.currentUser;if(n){var a=n.subscription,c=new h(o,s),l={notifications:{}};l.notifications[e]=!a.notifications[e],c.patch("/book/"+r.id+"/subscriptions/status",l).then(function(e){t.setState({status:e})},function(){t.setState({status:n})})}},render:function(){var e=this.props,t=e.book,r=e.count,l=e.subscription,p=n(e,["book","count","subscription"]),h=this.state.status,f=h&&h.active,y=u(t.id,"subscriptions"),v=void 0;return r&&(v=o.createElement(a,i({style:"count",href:y},p),this.state.count)),f?(l=h.subscription,o.createElement(c,{size:"md"},o.createElement(a,p,o.createElement(s,{id:"rss"})," ",m),v,d.map(function(e){var t=this,r=l.notifications[e.id];return o.createElement(c.Item,{key:e.id,checked:r,onClick:function(r){return t.onToggleNotif(e.id)}},o.createElement(c.Item.Header,null,e.title),o.createElement(c.Item.Desc,null,e.desc))},this),o.createElement(c.Item,{divider:!0}),o.createElement(c.Item,{onClick:this.onToggle},"Unsubscribe"))):o.createElement(a.Group,null,o.createElement(a,i({onClick:this.onToggle},p),o.createElement(s,{id:"rss"})," ",g),v)}});t.exports=y},{"../../constants/SUBSCRIPTION_NOTIFS":26,"../../shared/getBookURL":29,"../shapes/author":7,"../shapes/book":8,"../shapes/config":9,"../shapes/subscription":12,"./ApiClient":14,"./history":23,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Dropdown":47,"gitbook-styleguide/lib/Icon":49,react:"react"}],19:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("gitbook-styleguide/lib/Tooltip"),s=e("../shapes/request"),a=[["mb",1048576],["kb",1024],["b",1]],c=[["min",6e4],["s",1e3],["ms",1]],l=n.createClass({displayName:"Measure",getDefaultProps:function(){return{units:c,good:100,bad:200}},render:function(){var e=this.props,t=e.value,r=e.title,s=e.good,a=e.bad,c=e.units,l=i("measure",{"measure-bad":t>a,"measure-good":t<s}),p=c.find(function(e){return t/e[1]>1});p=p||c[c.length-1];var u=t/p[1],d=p[0];return n.createElement("span",{className:l},n.createElement(o,{title:r},u.toFixed(0),d))}}),p=n.createClass({displayName:"DevTools",contextTypes:{req:s},getInitialState:function(){return{endDate:0,payloadSize:0}},componentDidMount:function(){var e=this,t=Date.now();setTimeout(function(){e.setState({endDate:t,payloadSize:window.appPayloadSize})},1)},render:function(){var e=this.context.req,t=this.state,r=t.endDate,i=t.payloadSize;return n.createElement("div",{className:"DevTools"},n.createElement(l,{title:"Server",value:e.duration}),r?n.createElement(l,{title:"Rendering",value:r-window.pageRenderStart}):null,i?n.createElement(l,{title:"Payload",value:i,units:a,good:3072,bad:10240}):null)}});t.exports=p},{"../shapes/request":11,classnames:37,"gitbook-styleguide/lib/Tooltip":67,react:"react"}],20:[function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=e("react"),o=e("react-nps-input"),s=e("gitbook-styleguide/lib/Button"),a=e("./ApiClient"),c=e("../shapes/config"),l=e("../shapes/author"),p=2592e6,u=1728e5,d="nps_dimissedAt",h=i.createClass({displayName:"SurveyForScore",render:function(){var e=this.props,t=e.currentUser,r=e.score,n=e.dismiss,o="https://gitbook.typeform.com/to/YCwS0J?username="+t.username+"&email="+t.email+"&name="+t.name+"&nps="+r,a="https://gitbook.typeform.com/to/C93hwN?username="+t.username+"&email="+t.email+"&name="+t.name+"&nps="+r,c=void 0,l=void 0;return r>=9?(c=o,l="You love GitBook ? Help us make it even better by leaving valuable feedback :)"):r<7?(c=a,l="Thank you for your honesty, how GitBook could be a lot better for you ?"):(c=a,l="Something missing for you on Gitbook.com ? Help us by leaving valuable ideas :)"),i.createElement("div",null,i.createElement("p",{className:"lead"},l),i.createElement(s,{target:"_blank",style:"primary",size:"lg",href:c,onClick:n},"Give us feedback"))}}),f=i.createClass({displayName:"NPSSurvey",contextTypes:{config:c,currentUser:l},getInitialState:function(){return{dismissed:!0}},onSubmit:function(e){var t=e.score,r=this.context,n=r.currentUser,i=r.config,o=new a(i,n);o.post("/account/nps",{score:t})},onDismissed:function(){window.localStorage.setItem(d,Date.now())},showIfNeverDismissed:function(){var e=window.localStorage.getItem(d);e&&e>Date.now()-u||this.setState({dismissed:!1})},componentDidMount:function(){this.showIfNeverDismissed()},render:function(){var e=this.state.dismissed,t=this.context.currentUser;return!t||e||null!=t.npsScore||new Date(t.dates.created)>=Date.now()-p?null:i.createElement(o,{service:"GitBook",onSubmit:this.onSubmit,onDismissed:this.onDismissed},function(e){return i.createElement(h,n({currentUser:t},e))})}});t.exports=f},{"../shapes/author":7,"../shapes/config":9,"./ApiClient":14,"gitbook-styleguide/lib/Button":44,react:"react","react-nps-input":81}],21:[function(e,t,r){"use strict";function n(e,t){return e.urls.markAsRead+"?redirect="+t}function i(e,t){var r=j[e];return r?a.createElement(r,t):null}function o(e){return j[e.type]}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=e("react"),c=e("classnames"),l=e("striptags"),p=e("truncate"),u=e("gitbook-styleguide/lib/Button"),d=e("gitbook-styleguide/lib/Date"),h=e("gitbook-styleguide/lib/Icon"),f=(e("../shapes/notification"),e("../../shared/getHelpURL")),m=e("../../constants/PRESENTATION"),g=a.createClass({displayName:"Notification",getDefaultProps:function(){return{displayTitle:!0,displayActions:!0,displayDescription:!0}},getSummary:function(e){return this.props.getSummary(e)},getDescription:function(e){return this.props.getDescription(e)},render:function(){var e=this.props,t=e.item,r=e.buttonHandler,n=e.displayActions,i=e.displayTitle,o=e.displayDescription,s=c("Notification",{read:t.read}),l=c(this.props.icon,"NotificationIcon","pull-left");return a.createElement("div",{className:s},a.createElement(h,{className:l}),n?a.createElement("ul",{className:"NotificationActions pull-right"},a.createElement("li",{className:"time"},a.createElement(d,{date:t.dates.created})),a.createElement("li",{className:"check"},t.read?"":a.createElement(u,{name:"notification",value:t.id,title:"Mark as read",onClick:r.bind(null,t),style:"link",size:"sm",icon:"octicon octicon-check"}))):"",a.createElement(v,null,this.getSummary(t)),i?a.createElement(y,{item:t}):"",o?a.createElement(b,{item:t},this.getDescription(t)):"")}}),y=a.createClass({displayName:"NotificationBookTitle",render:function(){var e=this.props.item;return a.createElement("p",{className:"NotificationTitle"},a.createElement("a",{href:n(e,e.book.urls.access)},a.createElement("em",null,e.book.id)))}}),v=a.createClass({displayName:"NotificationSummary",render:function(){return a.createElement("p",{className:"NotificationSummary"},this.props.children)}}),b=a.createClass({displayName:"NotificationDescription",render:function(){var e=this.props.item;return a.createElement("span",{className:"NotificationDescription"},e.from?a.createElement("a",{href:n(e,e.from.urls.profile)},a.createElement("img",{src:e.from.urls.avatar,className:"pull-left"})):"",this.props.children)}}),_=a.createClass({displayName:"Comment",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," commented on thread ",a.createElement("a",{href:n(e,e.thread.urls.details)},"#",e.thread.number))},getDescription:function(e){var t=p(l(e.comment.body),128);return a.createElement("blockquote",null,t)},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-comment-discussion",getSummary:this.getSummary,getDescription:this.getDescription}))}}),k=a.createClass({displayName:"Discussion",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," started a new discussion ",a.createElement("a",{href:n(e,e.discussion.urls.details)},"#",e.discussion.number))},getDescription:function(e){return a.createElement("blockquote",null,e.discussion.title)},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-comment-discussion",getSummary:this.getSummary,getDescription:this.getDescription}))}}),w=a.createClass({displayName:"DiscussionMention",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," mentioned you in discussion ",a.createElement("a",{href:n(e,e.thread.urls.details)},"#",e.thread.number))},getDescription:function(e){return a.createElement("blockquote",null,e.thread.title)},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-comment-discussion",getSummary:this.getSummary,getDescription:this.getDescription}))}}),E=a.createClass({displayName:"UserWelcome",getSummary:function(e){return a.createElement("span",null,"Welcome to GitBook ",e.user.name,"!")},getDescription:function(e){return a.createElement("p",null,a.createElement("a",{href:"/new"},"Create your first book"),a.createElement("br",null),a.createElement("a",{href:"/settings"},"Tell us more about yourself"),a.createElement("br",null),a.createElement("a",{href:"https://twitter.com/"+m.TWITTER},"Follow @",m.TWITTER," on Twitter"))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-home",displayTitle:!1,getSummary:this.getSummary,getDescription:this.getDescription}))}}),T=a.createClass({displayName:"PaymentFailed",getSummary:function(e){return a.createElement("span",null,"Failed to process credit card")},getDescription:function(e){return a.createElement("p",null,"We were unable to charge your credit card: ",a.createElement("b",null,e.charge.failure_message),a.createElement("br",null),"Please confirm ",a.createElement("a",{href:n(e,e.user.urls.profile)},"your billing settings")," within the next 48-72 hours.")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-credit-card",displayTitle:!1,getSummary:this.getSummary,getDescription:this.getDescription}))}}),x=a.createClass({displayName:"AccountDowngraded",getSummary:function(e){return a.createElement("span",null,"Your ",e.subscription.plan.name," plan has been canceled")},getDescription:function(e){return a.createElement("p",null)},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-settings",displayTitle:!1,getSummary:this.getSummary,getDescription:this.getDescription}))}}),C=a.createClass({displayName:"BookUpdate",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.book.urls.read)},e.book.title)," has been updated")},getDescription:function(e){return a.createElement("blockquote",null,a.createElement("p",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," published a new update of ",a.createElement("b",null,e.book.title),"."))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-book",getSummary:this.getSummary,getDescription:this.getDescription}))}}),N=a.createClass({displayName:"BookCollaborator",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," just added you as a collaborator for this book")},getDescription:function(e){return a.createElement("blockquote",null,a.createElement("p",null,"Start working on ",a.createElement("a",{href:n(e,e.book.urls.access)},e.book.title)," right now!"))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-organization",getSummary:this.getSummary,getDescription:this.getDescription}))}}),P=a.createClass({displayName:"BookPrivate",getSummary:function(e){return a.createElement("span",null,a.createElement("b",null,e.book.title)," has just been made private by its author ",a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name))},getDescription:function(e){return a.createElement("p",null,"You will no longer receive updates for this book until the author makes it public again.")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-gist-secret",getSummary:this.getSummary,getDescription:this.getDescription}))}}),S=a.createClass({displayName:"BookPublic",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.book.urls.access)},a.createElement("b",null,e.book.title))," is now available to read")},getDescription:function(e){return a.createElement("p",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," has re-published this book. You can now read it online.")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-book",getSummary:this.getSummary,getDescription:this.getDescription}))}}),I=a.createClass({displayName:"BookSyncFailed",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.book.urls.settings.github)},a.createElement("b",null,e.book.title)),"'s content failed to sync with GitHub")},getDescription:function(e){return a.createElement("p",null,"This book's content could not be automatically synced with the ",a.createElement("b",null,e.book.github.id)," GitHub repository.",a.createElement("br",null),"Please check your ",a.createElement("a",{href:n(e,e.book.urls.settings.github)},"book's settings page")," to resolve this conflict.")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-alert",getSummary:this.getSummary,getDescription:this.getDescription}))}}),O=a.createClass({displayName:"OrgBookNew",getSummary:function(e){return a.createElement("span",null,"A new book has been created in your organization ",a.createElement("a",{href:n(e,e.organization.urls.profile)},e.organization.name))},getDescription:function(e){return a.createElement("blockquote",null,a.createElement("p",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," just created the book ",a.createElement("b",null,a.createElement("a",{href:n(e,e.book.urls.access)},e.book.title)),"."))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-book",getSummary:this.getSummary,getDescription:this.getDescription}))}}),D=a.createClass({displayName:"OrgCollaborator",getSummary:function(e){return a.createElement("span",null,a.createElement("a",{href:n(e,e.from.urls.profile)},e.from.name)," just added you as a collaborator for the organization ",a.createElement("a",{href:n(e,e.organization.urls.profile)},e.organization.name))},getDescription:function(e){return a.createElement("blockquote",null,a.createElement("p",null,"Start working with ",a.createElement("a",{href:n(e,e.organization.urls.profile)},e.organization.name)," right now!"))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-organization",displayTitle:!1,getSummary:this.getSummary,getDescription:this.getDescription}))}}),B=a.createClass({displayName:"OrgGitHubNew",getSummary:function(e){return a.createElement("span",null,"New ",a.createElement("a",{href:n(e,e.organization.urls.profile)},e.organization.name)," organization")},getDescription:function(e){return a.createElement("blockquote",null,a.createElement("p",null,"Your new GitBook organization has been successfully created and linked to the ",a.createElement("b",null,e.organization.github.username)," GitHub organization."))},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-organization",displayTitle:!1,getSummary:this.getSummary,getDescription:this.getDescription}))}}),A=a.createClass({displayName:"BuildFirst",getSummary:function(e){return a.createElement("span",null,"Congratulations! Your book has just been published")},getDescription:function(e){return a.createElement("p",null,"Your book ",a.createElement("b",null,e.book.title)," is now available to ",a.createElement("a",{href:n(e,e.book.urls.read)},"read online"),".")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-check",getSummary:this.getSummary,getDescription:this.getDescription}))}}),M=a.createClass({displayName:"BuildPassed",getSummary:function(e){return a.createElement("span",null,"Update ",a.createElement("a",{href:n(e,e.build.urls.details)},"(",e.build.branch,"/",e.build.version.slice(0,7),")")," successful")},getDescription:function(e){return a.createElement("p",null,e.book.title," updated successfully in ",a.createElement("b",null,e.build.duration," seconds"),".")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-check",getSummary:this.getSummary,getDescription:this.getDescription}))}}),U=a.createClass({displayName:"BuildFailed",getSummary:function(e){return a.createElement("span",null,"Update ",a.createElement("a",{href:n(e,e.build.urls.details)},"(",e.build.branch,"/",e.build.version.slice(0,7),")")," ",e.buildStatus)},getDescription:function(e){return a.createElement("p",null,e.book.title," update errored after ",a.createElement("b",null,e.build.duration," seconds"),". Check out the list of ",a.createElement("a",{href:n(e,f("content/why-are-my-updates-failing"))},"common errors"),".")},render:function(){return a.createElement(g,s({},this.props,{icon:"octicon octicon-alert",getSummary:this.getSummary,getDescription:this.getDescription}))}}),j={comment:_,discussion:k,"discussion.mention":w,"user.welcome":E,"payment.failed":T,"account.downgraded":x,"book.update":C,"book.private":P,"book.public":S,"book.collaborator":N,"book.sync.failed":I,"org.book.new":O,"org.collaborator":D,"org.github.new":B,"build.first":A,"build.passed":M,"build.failed":U};t.exports.createForType=i,t.exports.getComponentFor=o},{"../../constants/PRESENTATION":25,"../../shared/getHelpURL":31,"../shapes/notification":10,classnames:37,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Date":46,"gitbook-styleguide/lib/Icon":49,react:"react",striptags:86,truncate:87}],22:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("gitbook-styleguide/lib/Blankslate"),s=e("gitbook-styleguide/lib/Button"),a=e("gitbook-styleguide/lib/Date"),c=e("gitbook-styleguide/lib/Icon"),l=e("gitbook-styleguide/lib/Popover"),p=e("gitbook-styleguide/lib/Spinner"),u=e("gitbook-styleguide/lib/Backdrop"),d=e("../utils/ApiClient"),h=e("../utils/Notification"),f=e("../utils/history"),m=e("../shapes/config"),g=e("../shapes/author"),y=9e5,v=5,b=n.createClass({displayName:"Footer",render:function(){return n.createElement("div",{className:"NotificationsIndicatorFooter"},this.props.children)}}),_=n.createClass({displayName:"NotificationsIndicator",contextTypes:{config:m.isRequired,currentUser:g.isRequired},getInitialState:function(){return{count:0,list:[],open:!1,loading:!1}},componentDidMount:function(){var e=this.context.config,t=this.context.currentUser;this.apiClient=new d(e,t),this.fetchUserNotifications(),this.fetchInterval=setInterval(this.fetchUserNotifications,y)},componentWillUnmount:function(){clearInterval(this.fetchInterval)},close:function(){this.setState({open:!1})},fetchUserNotifications:function(){var e=this;this.setState({loading:!0}),this.apiClient.get("/notifications",{state:"unread",limit:v}).then(function(t){e.setState({count:t.total,list:t.list,loading:!1})})},redirectToNotification:function(e){f.navigateTo(e.urls.redirectLink)},toggleOpen:function(e){e&&e.stopPropagation(),this.setState({open:!this.state.open})},renderNotification:function(e,t){var r=this,i=h.getComponentFor(e);return n.createElement("div",{key:t,className:"NotificationWrapper",onClick:function(){return r.redirectToNotification(e)}},n.createElement(i,{item:e,displayDescription:!1,displayActions:!1}),n.createElement("div",{className:"NotificationTime"},n.createElement(a,{date:e.dates.created})))},renderNotifications:function(){var e=this.state,t=e.count,r=e.list;return n.createElement("div",null,t>0?r.map(this.renderNotification):n.createElement(o,{icon:"bell"},n.createElement("p",null,"No new notifications")))},render:function(){var e=this.state,t=e.open,r=e.count,o=e.loading,a=i("pull-right",{loading:o});return n.createElement("div",{id:"NotificationsIndicator",className:a},n.createElement(l.Container,null,n.createElement(s,{style:"link",className:"NotificationsAlert",disabled:o,onClick:this.toggleOpen},n.createElement(c,{id:"bell"}),r>0?n.createElement("span",{className:"NotificationsUnread"}):null),t?n.createElement(u,{onClose:this.close},n.createElement(l,null,n.createElement(l.Heading,{title:"Notifications"}),n.createElement(l.Body,null,o?n.createElement(p,null):null,this.renderNotifications(),n.createElement(b,null,n.createElement("p",{className:"text-center"},n.createElement("a",{href:"/notifications"},"Go to Notifications Center")))))):null))}});t.exports=_},{"../shapes/author":7,"../shapes/config":9,"../utils/ApiClient":14,"../utils/Notification":21,"../utils/history":23,classnames:37,"gitbook-styleguide/lib/Backdrop":42,"gitbook-styleguide/lib/Blankslate":43,"gitbook-styleguide/lib/Button":44,"gitbook-styleguide/lib/Date":46,"gitbook-styleguide/lib/Icon":49,"gitbook-styleguide/lib/Popover":62,"gitbook-styleguide/lib/Spinner":66,react:"react"}],23:[function(e,t,r){"use strict";function n(e,t){return e+(t?"?"+p.stringify(t):"")}function i(){return{id:d++}}function o(e,t){window.location.href=n(e,t)}function s(e,t){var r=a(e,t);return u&&window.dispatchEvent(new Event("popstate")),r}function a(e,t){var r=i(),s=n(e,t);return u?window.history.pushState(r,"",s):o(e,t),r}function c(e,t){var r=i(),s=n(e,t);return u?window.history.replaceState(r,"",s):o(e,t),r}function l(e){var t=location.pathname;setTimeout(function(){location.pathname==t&&location.reload()},e)}var p=e("querystring"),u="undefined"!=typeof window&&window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),d=0;t.exports={SUPPORTED:u,redirect:o,push:a,replace:c,refresh:l,navigateTo:s}},{querystring:78}],24:[function(e,t,r){"use strict";var n={CREATED:"created",CONVERTING:"converting",CONVERTING_FAILED:"converting_failed",IMPORTING:"importing",PUBLISHING:"publishing",PUBLISHED:"published",REMOVING:"removing",UPDATING:"updating",UPDATING_FAILED:"updating_failed",SUSPENDED:"suspended"};t.exports=n},{}],25:[function(e,t,r){"use strict";t.exports={SITE_NAME:"GitBook",GITHUB:"GitbookIO",TWITTER:"GitBookIO",FACEBOOK:"gitbookcom",FACEBOOK_ID:"840217382703949",HEADLINE:"Writing made easy",DESCRIPTION:"GitBook is where you create, write and organize documentation and books with your team.",MAIL:"contact@gitbook.com"}},{}],26:[function(e,t,r){"use strict";t.exports=[{id:"content",title:"New content",desc:"Be notified of content changes."},{id:"thread",title:"New discussions",desc:"Be notified of all conversations."}]},{}],27:[function(e,t,r){"use strict";t.exports={DOCUMENTATION:"https://help.gitbook.com",SUPPORT:"mailto:support@gitbook.com",ONIX_FEED:"https://legacy.gitbook.com/api/opds/catalog.atom",EDITOR_FEED:"http://downloads.editor.gitbook.com/feed/channel/all.atom",API_DOCUMENTATION:"https://developer.gitbook.com",TOOLCHAIN_DOCUMENTATION:"https://toolchain.gitbook.com",ENTERPRISE:"https://enterprise.gitbook.com",JOBS:"http://jobs.gitbook.com",SLACK:"https://slack.gitbook.com",STATUS:"http://status.gitbook.com/",GITHUB:"https://github.com/GitbookIO",GITHUB_GITBOOK:"https://github.com/GitbookIO/gitbook",FACEBOOK:"https://www.facebook.com/gitbookcom",TWITTER:"https://twitter.com/GitBookIO",FEEDBACK:"https://github.com/GitbookIO/feedback/issues"}},{}],28:[function(e,t,r){"use strict";function n(e,t){var r=e.split("/"),n=i(r,1),o=n[0];return o.toLowerCase()!=t.toLowerCase()}var i=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=n},{}],29:[function(e,t,r){"use strict";function n(e,t){var r="/book/"+e;return t&&(r+="/"+t),r}t.exports=n},{}],30:[function(e,t,r){"use strict";function n(e){var t="User"===e.type?"":"organizations/"+e.github.username+"/";return"https://github.com/"+t+"settings/installations/"+e.github.installation_id}t.exports=n},{}],31:[function(e,t,r){"use strict";function n(e){return i.DOCUMENTATION+"/"+e+".html"}var i=e("../constants/URLS");t.exports=n},{"../constants/URLS":27}],32:[function(e,t,r){"use strict";function n(e,t){var r="/@"+e;return t&&(r+="/"+t),r}t.exports=n},{}],33:[function(e,t,r){"use strict";function n(e){return Boolean(e.github)&&Boolean(e.github.installation_id)}t.exports=n},{}],34:[function(e,t,r){"use strict";function n(e){switch(e){case i.CREATED:case i.PUBLISHING:case i.REMOVING:case i.SUSPENDED:return!1;default:return!0}}var i=e("../constants/BOOK_STATUS");t.exports=n},{"../constants/BOOK_STATUS":24}],35:[function(e,t,r){"use strict";function n(e){return Boolean(e.github)&&Boolean(e.github.id)}t.exports=n},{}],36:[function(e,t,r){"use strict";function n(){return!0}t.exports=n},{}],37:[function(t,r,n){!function(){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(t.apply(null,i));else if("object"===o)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof r&&r.exports?r.exports=t:"function"==typeof e&&"object"==typeof e.amd&&e.amd?e("classnames",[],function(){return t}):window.classNames=t}()},{}],38:[function(e,t,r){var n=e("react"),i=e("../lib/SVGIcon"),o='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="1067px" height="769px" viewBox="0 0 1067 769" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1"  fill-rule="evenodd" fill="#3884ff">\n        <g id="GitBook" transform="translate(-186.000000, -128.000000)">\n            <path d="M666.026437,768.67745 C683.230722,768.67745 697.226738,782.67354 697.226738,799.870648 C697.226738,817.067756 683.230722,831.063847 666.026437,831.063847 C648.829421,831.063847 634.833405,817.067756 634.833405,799.870648 C634.833405,782.67354 648.829421,768.67745 666.026437,768.67745 M1155.95679,575.450573 C1138.7525,575.450573 1124.75649,561.453028 1124.75649,544.25592 C1124.75649,527.051544 1138.7525,513.055453 1155.95679,513.055453 C1173.1538,513.055453 1187.14982,527.051544 1187.14982,544.25592 C1187.14982,561.453028 1173.1538,575.450573 1155.95679,575.450573 M1155.95679,447.646843 C1102.68819,447.646843 1059.34822,490.987043 1059.34822,544.25592 C1059.34822,554.629425 1061.07083,564.957866 1064.47099,574.997022 L745.327505,744.879153 C727.195774,718.750597 697.806756,703.261571 666.026437,703.261571 C629.204762,703.261571 595.634965,724.326937 579.395922,757.264559 L292.679649,606.108815 C262.392257,590.182229 239.714873,540.291718 242.120711,494.88583 C243.367967,471.199467 251.557992,452.814697 264.01747,445.716348 C271.932749,441.223004 281.45289,441.616953 291.542872,446.904009 L293.45882,447.914321 C369.419335,487.935756 618.059409,618.895438 628.521533,623.758019 C644.679169,631.228512 653.662902,634.257994 681.181035,621.21116 L1195.13924,353.910249 C1202.66929,351.066839 1211.45387,343.849287 1211.45387,332.888493 C1211.45387,317.682936 1195.73379,311.689387 1195.68873,311.689387 C1166.47124,297.671491 1121.52641,276.635198 1077.70237,256.119325 C984.03314,212.258705 877.860826,162.546998 831.229728,138.132338 C790.977371,117.059703 758.574877,134.820841 752.797959,138.414353 L741.5712,143.968888 C531.726898,247.743185 250.898022,386.826066 234.910466,396.55268 C206.278815,413.973656 188.548298,448.67896 186.25294,491.767673 C182.666715,560.072026 217.514296,631.273576 267.321681,657.402132 L570.493595,813.756259 C577.324431,861.062115 618.044872,896.481179 666.026437,896.481179 C718.805142,896.481179 761.834025,853.934692 762.629187,801.341779 L1096.54059,620.379652 C1113.47013,633.612557 1134.46124,640.866452 1155.95679,640.866452 C1209.22538,640.866452 1252.5668,597.524798 1252.5668,544.25592 C1252.5668,490.987043 1209.22538,447.646843 1155.95679,447.646843" id="GitBook_logo_blue"></path>\n        </g>\n    </g>\n</svg>\n',s=function(e){return n.createElement(i,Object.assign({},e||{},{className:"Logo",svg:o}))};t.exports=s},{"../lib/SVGIcon":65,react:"react"}],39:[function(e,t,r){var n=e("react"),i=e("../lib/SVGIcon"),o='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="1275px" height="261px" viewBox="0 0 1275 261" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Desktop-HD" transform="translate(-82.000000, -381.000000)">\n            <g id="Page-1" transform="translate(81.000000, 381.000000)">\n                <path d="M164.072025,217.262237 C169.917345,217.262237 174.67264,222.009129 174.67264,227.841541 C174.67264,233.671375 169.917345,238.418267 164.072025,238.418267 C158.229288,238.418267 153.473993,233.671375 153.473993,227.841541 C153.473993,222.009129 158.229288,217.262237 164.072025,217.262237 M330.509952,151.736561 C324.664632,151.736561 319.909337,146.989669 319.909337,141.157257 C319.909337,135.324845 324.664632,130.577953 330.509952,130.577953 C336.350106,130.577953 341.105402,135.324845 341.105402,141.157257 C341.105402,146.989669 336.350106,151.736561 330.509952,151.736561 M330.509952,108.395708 C312.413483,108.395708 297.687823,123.095345 297.687823,141.157257 C297.687823,144.676816 298.274163,148.178325 299.428762,151.581855 L191.012673,209.191747 C184.852228,200.332257 174.868948,195.077414 164.072025,195.077414 C151.562576,195.077414 140.158649,202.222247 134.641369,213.392012 L37.2391749,162.132796 C26.951102,156.730982 19.2486081,139.813894 20.0648348,124.415502 C20.4884462,116.383688 23.2703328,110.149041 27.5038632,107.740786 C30.1927619,106.219512 33.4266729,106.351012 36.8543085,108.1456 L37.5052235,108.485953 C63.309353,122.058816 147.775904,166.469718 151.330106,168.117335 C156.818972,170.651933 159.872074,171.678149 169.219936,167.253561 L343.82013,76.6088059 C346.377296,75.6444725 349.360657,73.1975412 349.360657,69.4820216 C349.360657,64.3251588 344.021604,62.2907765 344.006106,62.2907765 C334.079653,57.5387275 318.811564,50.4042078 303.925758,43.4476 C272.103248,28.5726294 236.034292,11.7148451 220.195361,3.43550196 C206.520981,-3.70933137 195.512252,2.31388431 193.549175,3.53090392 L189.736673,5.41573725 C118.448568,40.6061686 23.0456121,87.7708353 17.6161547,91.0712275 C7.8885919,96.9784137 1.86504534,108.746375 1.08498057,123.358345 C-0.131610526,146.520394 11.7062599,170.667404 28.6248834,179.526894 L131.619264,232.549757 C133.938794,248.590178 147.770738,260.60309 164.072025,260.60309 C182.0006,260.60309 196.620357,246.174188 196.888989,228.339178 L310.323839,166.972512 C316.076171,171.458982 323.20524,173.918806 330.509952,173.918806 C348.603839,173.918806 363.329499,159.221747 363.329499,141.157257 C363.329499,123.095345 348.603839,108.395708 330.509952,108.395708" id="Fill-1" fill="#3681FC"></path>\n                <path d="M579.646628,195.850943 C573.517178,202.650267 564.549016,208.126855 552.744725,212.280708 C540.940433,216.434561 527.999623,218.512776 513.924879,218.512776 C492.281955,218.512776 474.988798,211.904257 462.050571,198.684639 C449.109761,185.465022 442.184749,167.070492 441.278117,143.501051 L441.164466,129.224276 C441.164466,112.982737 444.03934,98.8013647 449.791672,86.6775804 C455.541421,74.5537961 463.770846,65.2224529 474.479947,58.6887078 C485.186466,52.1575412 497.57968,48.8880902 511.654425,48.8880902 C532.23832,48.8880902 548.221899,53.591149 559.612911,62.9946882 C570.998757,72.4008059 577.642223,86.4326294 579.532976,105.090159 L541.167737,105.090159 C539.803915,95.8748451 536.854134,89.3024235 532.313227,85.3728941 C527.77232,81.4459431 521.34066,79.4811784 513.015664,79.4811784 C503.027219,79.4811784 495.309227,83.7123843 489.859105,92.1722176 C484.411567,100.632051 481.650344,112.719737 481.572854,128.432698 L481.572854,138.403492 C481.572854,154.871933 484.390903,167.240669 490.029583,175.512276 C495.66568,183.783884 504.540854,187.919688 516.647356,187.919688 C527.015502,187.919688 534.733494,185.614571 539.803915,181.006914 L539.803915,155.400512 L512.109032,155.400512 L512.109032,128.092345 L579.646628,128.092345 L579.646628,195.850943 Z" id="Fill-4" fill="#000000"></path>\n                <path d="M603.029198,216.247882 L641.39702,216.247882 L641.39702,93.646049 L603.029198,93.646049 L603.029198,216.247882 Z M600.758745,61.918451 C600.758745,56.4470196 602.726988,51.9631275 606.663474,48.4667745 C610.597377,44.9704216 615.706543,43.2222451 621.985806,43.2222451 C628.267652,43.2222451 633.374235,44.9704216 637.310721,48.4667745 C641.244623,51.9631275 643.212866,56.4470196 643.212866,61.918451 C643.212866,67.3924608 641.244623,71.8763529 637.310721,75.3701275 C633.374235,78.8664804 628.267652,80.6146569 621.985806,80.6146569 C615.706543,80.6146569 610.597377,78.8664804 606.663474,75.3701275 C602.726988,71.8763529 600.758745,67.3924608 600.758745,61.918451 L600.758745,61.918451 Z" id="Fill-6" fill="#000000"></path>\n                <path d="M709.502874,63.1648647 L709.502874,93.644502 L729.707069,93.644502 L729.707069,120.158512 L709.502874,120.158512 L709.502874,176.247129 C709.502874,180.857365 710.334599,184.067512 712.000632,185.880149 C713.664081,187.692786 716.957401,188.597816 721.875425,188.597816 C725.659514,188.597816 728.836599,188.373492 731.409263,187.919688 L731.409263,215.227855 C724.522996,217.416943 717.334518,218.512776 709.84383,218.512776 C696.675717,218.512776 686.95332,215.41608 680.671474,209.222688 C674.389628,203.029296 671.248704,193.623178 671.248704,181.006914 L671.248704,120.158512 L655.585417,120.158512 L655.585417,93.644502 L671.248704,93.644502 L671.248704,63.1648647 L709.502874,63.1648647 Z" id="Fill-8" fill="#000000"></path>\n                <path d="M786.349587,146.107845 L786.349587,185.653247 L812.455927,185.653247 C819.646988,185.653247 825.169433,184.010786 829.028429,180.723286 C832.890008,177.438365 834.819506,172.81008 834.819506,166.84359 C834.819506,153.095394 827.969401,146.18262 814.274356,146.107845 L786.349587,146.107845 Z M786.349587,120.047639 L807.12204,120.047639 C815.824154,119.972865 822.02851,118.381973 825.737692,115.274963 C829.446874,112.167953 831.298883,107.583502 831.298883,101.52161 C831.298883,94.5521098 829.294478,89.5319039 825.283085,86.4635706 C821.274275,83.3952373 814.80387,81.8610706 805.874453,81.8610706 L786.349587,81.8610706 L786.349587,120.047639 Z M746.506874,216.246335 L746.506874,51.2679824 L805.874453,51.2679824 C827.137676,51.2679824 843.312397,55.1588353 854.398615,62.9379627 C865.484834,70.7196686 871.027943,82.013198 871.027943,96.818551 C871.027943,105.355737 869.0597,112.642384 865.125798,118.686227 C861.191895,124.730071 855.400818,129.188178 847.757733,132.057973 C856.384939,134.324414 863.007741,138.55562 867.623555,144.749012 C872.239368,150.942404 874.548567,158.497208 874.548567,167.410845 C874.548567,183.575031 869.418737,195.719443 859.164243,203.838924 C848.912332,211.960982 833.721733,216.096786 813.592445,216.246335 L746.506874,216.246335 Z" id="Fill-9" fill="#000000"></path>\n                <path d="M928.124294,156.192348 C928.124294,167.524554 929.901395,175.834838 933.458181,181.120623 C937.014966,186.408985 942.276529,189.051877 949.237703,189.051877 C962.85784,189.051877 969.821598,178.591181 970.123808,157.664632 L970.123808,153.812456 C970.123808,131.831328 963.085144,120.839475 949.010399,120.839475 C936.221986,120.839475 929.296974,130.320368 928.237946,149.279574 L928.124294,156.192348 Z M889.870124,153.812456 C889.870124,141.575221 892.254229,130.67877 897.02244,121.123103 C901.79065,111.567436 908.638172,104.221485 917.567589,99.08525 C926.497006,93.9464363 936.978804,91.3783186 949.010399,91.3783186 C967.398747,91.3783186 981.889355,97.0637598 992.484804,108.432064 C1003.08025,119.802946 1008.3754,135.268377 1008.3754,154.833515 L1008.3754,156.192348 C1008.3754,175.303681 1003.05959,190.467436 992.430561,201.686191 C981.793784,212.904946 967.398747,218.513034 949.237703,218.513034 C931.755986,218.513034 917.719986,213.283975 907.124537,202.818123 C896.53167,192.357426 890.818083,178.173475 889.983776,160.271426 L889.870124,153.812456 Z" id="Fill-10" fill="#000000"></path>\n                <path d="M1058.66142,156.192348 C1058.66142,167.524554 1060.43852,175.834838 1063.99531,181.120623 C1067.55209,186.408985 1072.81365,189.051877 1079.77483,189.051877 C1093.39497,189.051877 1100.35872,178.591181 1100.66093,157.664632 L1100.66093,153.812456 C1100.66093,131.831328 1093.62227,120.839475 1079.54752,120.839475 C1066.75911,120.839475 1059.8341,130.320368 1058.77507,149.279574 L1058.66142,156.192348 Z M1020.40725,153.812456 C1020.40725,141.575221 1022.79135,130.67877 1027.55956,121.123103 C1032.32777,111.567436 1039.1753,104.221485 1048.10471,99.08525 C1057.03413,93.9464363 1067.51593,91.3783186 1079.54752,91.3783186 C1097.93587,91.3783186 1112.42648,97.0637598 1123.02193,108.432064 C1133.61738,119.802946 1138.91252,135.268377 1138.91252,154.833515 L1138.91252,156.192348 C1138.91252,175.303681 1133.59671,190.467436 1122.96769,201.686191 C1112.33091,212.904946 1097.93587,218.513034 1079.77483,218.513034 C1062.29311,218.513034 1048.25711,213.283975 1037.66166,202.818123 C1027.0688,192.357426 1021.35521,178.173475 1020.5209,160.271426 L1020.40725,153.812456 Z" id="Fill-11" fill="#000000"></path>\n                <polygon id="Fill-12" fill="#000000" points="1205.08991 170.582831 1194.3059 181.347782 1194.3059 216.246851 1156.05431 216.246851 1156.05431 42.0892824 1194.3059 42.0892824 1194.3059 134.549253 1198.1649 129.451694 1226.9963 93.6450176 1272.85481 93.6450176 1229.83501 144.068822 1275.69352 216.246851 1231.87816 216.246851"></polygon>\n            </g>\n        </g>\n    </g>\n</svg>\n',s=function(e){return n.createElement(i,Object.assign({},e||{},{className:"LogoText",svg:o}))};t.exports=s},{"../lib/SVGIcon":65,react:"react"}],40:[function(e,t,r){"use strict";function n(e){return o.createClass({displayName:p.displayName+e,render:function(){return o.createElement(p,i({},this.props,{style:e.toLowerCase()}))}})}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=e("./Icon"),c=e("./Container"),l=e("./STYLES"),p=o.createClass({displayName:"Alert",propTypes:{onClose:o.PropTypes.func,closable:o.PropTypes.bool,style:o.PropTypes.oneOf(l),children:o.PropTypes.node,className:o.PropTypes.string},getInitialState:function(){return{opened:!0}},getDefaultProps:function(){return{onClose:void 0,closable:!1,style:l[0]}},onClose:function e(t){t.preventDefault();var e=this.props.onClose;this.setState({opened:!1},function(){e&&e()})},render:function(){var e=this.props.style,t=s("alert","alert-"+e,this.props.className),r=this.props.onClose,n=this.props.closable,i=void 0;return this.state.opened?((r||n)&&(i=o.createElement("a",{href:"#",onClick:this.onClose,className:"alert-btn"},o.createElement(a,{id:"x"}))),o.createElement("div",{className:t},o.createElement(c,{fluid:!0},i,this.props.children))):o.createElement("div",null)}}),u=o.createClass({displayName:"AlertButton",propTypes:{children:o.PropTypes.node,className:o.PropTypes.string,href:o.PropTypes.string,onClick:o.PropTypes.func},onClick:function(e){this.props.onClick&&(e.preventDefault(),this.props.onClick())},render:function(){var e=this.props,t=e.href,r=e.className;return r=s("alert-btn",r||""),t=t||"#",o.createElement("a",{className:r,href:t,onClick:this.onClick},this.props.children)}});t.exports=p,t.exports.Button=u,t.exports.Info=n("Info"),t.exports.Danger=n("Danger"),t.exports.Success=n("Success"),t.exports.Warning=n("Warning")},{"./Container":45,"./Icon":49,"./STYLES":64,classnames:37,react:"react"}],41:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./SIZES"),s=o.concat(["button"]),a=n.createClass({displayName:"Avatar",propTypes:{src:n.PropTypes.string,text:n.PropTypes.string,size:n.PropTypes.oneOf(s),className:n.PropTypes.string,children:n.PropTypes.node},render:function(){var e=this.props,t=e.src,r=e.size,o=e.className,s=e.text,a=e.children;return o=i("avatar",r?"avatar-"+r:"",o),n.createElement("figure",{className:o,"data-initial":s},t?n.createElement("img",{src:t}):null,a)}}),c=n.createClass({displayName:"AvatarIcon",propTypes:{src:n.PropTypes.string,className:n.PropTypes.string},render:function(){var e=this.props,t=e.src,r=e.className;return r=i("avatar-icon",r),n.createElement("img",{src:t,className:r})}});t.exports=a,t.exports.Icon=c},{"./SIZES":63,classnames:37,react:"react"}],42:[function(e,t,r){"use strict";var n=e("react"),i=e("react-dom"),o={37:1,38:1,39:1,40:1},s=n.createClass({displayName:"Backdrop",propTypes:{scroll:n.PropTypes.bool,escape:n.PropTypes.bool,zIndex:n.PropTypes.number,onClose:n.PropTypes.func.isRequired,children:n.PropTypes.node.isRequired,wrapper:n.PropTypes.node},getDefaultProps:function(){return{scroll:!1,escape:!0,zIndex:200,wrapper:n.createElement("div",null)}},onClose:function e(){var e=this.props.onClose;e()},onClick:function(e){e.stopPropagation(),e.preventDefault(),this.onClose()},onKeyDown:function(e){var t=this.props.escape;if(27===e.keyCode&&t&&this.onClose(),o[e.keyCode])return e.preventDefault(),!1},onScroll:function(e){var t=this.props.scroll;if(!t){var r=i.findDOMNode(this.refs.wrapper),n=i.findDOMNode(this.refs.backdrop);e.target!=r&&e.target!=n||(e.preventDefault(),e.stopPropagation())}},bindEvents:function(){var e=i.findDOMNode(this.refs.wrapper);window.addEventListener("keydown",this.onKeyDown),e.addEventListener("scroll",this.onScroll),e.addEventListener("wheel",this.onScroll)},unbindEvents:function(){var e=i.findDOMNode(this.refs.wrapper);window.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("scroll",this.onScroll),e.removeEventListener("wheel",this.onScroll)},componentDidMount:function(){this.bindEvents()},componentWillUpdate:function(){this.unbindEvents()},componentDidUpdate:function(){this.bindEvents()},componentWillUnmount:function(){this.unbindEvents()},render:function(){var e=this.props,t=e.zIndex,r=e.wrapper,i=e.children,o={zIndex:t,position:"fixed",top:0,right:0,width:"100%",height:"100%"};return n.cloneElement(r,{ref:"wrapper"},n.createElement("div",{className:"Backdrop",ref:"backdrop",style:o,onClick:this.onClick}),r.props.children,i)}});t.exports=s},{react:"react","react-dom":"react-dom"}],43:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./Icon"),s=n.createClass({displayName:"Blankslate",propTypes:{icon:n.PropTypes.string,background:n.PropTypes.bool,full:n.PropTypes.bool,children:n.PropTypes.node},getDefaultProps:function(){return{background:!1,full:!0}},render:function(){var e=void 0,t=this.props.icon,r=i("blankslate",{"with-background":this.props.background,"full-width":this.props.full});return t&&(e=n.createElement(a,null,n.createElement(o,{id:t}))),n.createElement("div",{className:r},e,this.props.children)}}),a=n.createClass({displayName:"BlankslateIcon",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"icon"},this.props.children)}}),c=n.createClass({displayName:"BlankslateLayout",propTypes:{background:n.PropTypes.bool,children:n.PropTypes.node},render:function(){var e=this.props,t=e.children,r=e.background,o=i("blankslate-layout",{"with-background":r});return n.createElement("div",{className:o},t)}});t.exports=s,t.exports.Layout=c,t.exports.Icon=a},{"./Icon":49,classnames:37,react:"react"}],44:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=e("./Icon"),c=e("./STYLES"),l=e("./SIZES"),p=e("./utils/warning"),u=c.concat(["link","marketing-primary","secondary","count"]),d=o.createClass({displayName:"Button",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node,type:o.PropTypes.string,size:o.PropTypes.oneOf(l),style:o.PropTypes.oneOf(u),href:o.PropTypes.string,value:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.bool,o.PropTypes.number]),name:o.PropTypes.string,target:o.PropTypes.string,filled:o.PropTypes.bool,noBorder:o.PropTypes.bool,disabled:o.PropTypes.bool,active:o.PropTypes.bool,block:o.PropTypes.bool,dropdownToggle:o.PropTypes.bool,onClick:o.PropTypes.func,title:o.PropTypes.string,icon:o.PropTypes.string},getInitialState:function(){return{clicked:!1}},getDefaultProps:function(){return{style:"default",size:"md",type:"button",filled:!1,disabled:!1,active:!1}},onClick:function(e){var t=this,r=this.props.disabled;if(r)return void e.preventDefault();var n=this.state.clicked;if(this.props.onClick&&!n&&this.props.onClick(e),this.isFormButton()){if(n)return this.setState({clicked:!1});e.preventDefault(),this.setState({clicked:!0},function(){t.refs.button.click()})}},isFormButton:function(){var e=this.props,t=e.type,r=e.name;return"submit"===t&&r},render:function(){var e=this.state.clicked,t=this.props,r=t.title,c=t.icon,l=t.filled,u=t.block,d=t.noBorder,h=t.active,f=t.dropdownToggle,m=t.style,g=t.size,y=t.className,v=t.children,b=t.name,_=t.value,k=t.disabled,w=n(t,["title","icon","filled","block","noBorder","active","dropdownToggle","style","size","className","children","name","value","disabled"]),E=c?o.createElement(a,{className:c}):"";c&&p('Prop "icon" on Button is deprecated, use <Icon /> as children instead'),w.className=s("btn","btn-"+m,"btn-"+g,y,{"btn-fill":l,"btn-block":u,"btn-noborder":d,active:h,disabled:k,"dropdown-toggle":f,tooltipped:Boolean(r)}),w["aria-label"]=r,w.role="button",w.disabled=k,w.onClick=this.onClick,w.href&&(w.href=k?"#":w.href);var T=void 0;return e&&this.isFormButton()&&(T=o.createElement("input",{type:"hidden",name:b,value:_})),w.href?(delete w.type,o.createElement("a",w,E," ",v)):o.createElement("button",i({ref:"button"},w),E," ",v,T)}}),h=o.createClass({displayName:"ButtonGroup",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node,pull:o.PropTypes.string,block:o.PropTypes.bool},render:function(){var e=this.props,t=e.className,r=e.pull,a=e.children,c=e.block,l=n(e,["className","pull","children","block"]);return t=s("btn-group",t,r?"pull-"+r:"",{"btn-group-block":c}),o.createElement("div",i({className:t},l),a)}}),f=o.createClass({displayName:"ButtonToolbar",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node},render:function(){var e=this.props,t=e.className,r=e.children,s=n(e,["className","children"]);return o.createElement("div",i({className:"btn-toolbar "+(t||"")},s),r)}}),m=o.createClass({displayName:"ButtonCaret",render:function(){return o.createElement("span",{className:"caret"})}}),g=o.createClass({displayName:"ButtonTextExpander",propTypes:{onClick:o.PropTypes.func},onClick:function(e){this.props.onClick&&this.props.onClick()},render:function(){return o.createElement("span",{className:"hidden-text-expander"},o.createElement("button",{type:"button",className:"ellipsis-expander",onClick:this.onClick},""))}});t.exports=d,t.exports.Group=h,t.exports.Toolbar=f,t.exports.Caret=m,t.exports.TextExpander=g,t.exports.STYLES=u},{"./Icon":49,"./SIZES":63,"./STYLES":64,"./utils/warning":70,classnames:37,react:"react"}],45:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=o.createClass({displayName:"Container",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node,fluid:o.PropTypes.bool,maxWidth:o.PropTypes.bool},getDefaultProps:function(){return{maxWidth:!1,fluid:!1}},render:function(){var e=this.props,t=e.fluid,r=e.className,a=e.maxWidth,c=n(e,["fluid","className","maxWidth"]);return r=s("container",{"container-fluid":t,"container-max-width":a},r),o.createElement("div",i({},c,{className:r}),this.props.children)}});t.exports=a},{classnames:37,react:"react"}],46:[function(e,t,r){"use strict";var n=e("react"),i=e("moment");e("moment-duration-format");var o=n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string,n.PropTypes.instanceOf(Date)]),s=n.createClass({displayName:"DateSpan",propTypes:{date:o.isRequired,refresh:n.PropTypes.number,format:n.PropTypes.string,utc:n.PropTypes.bool},contextTypes:{now:o},getDefaultProps:function(){return{format:"",refresh:1e4,utc:!0}},getInitialState:function(){return{now:0}},tick:function(){this.setState({now:Date.now()})},componentDidMount:function(){var e=this.props,t=e.refresh,r=e.format;return r?void setTimeout(this.tick,1e3):void(this.interval=setInterval(this.tick,t))},componentWillUnmount:function(){this.interval&&clearInterval(this.interval)},render:function(){var e=this.state.now||this.context.now,t=this.props,r=t.date,o=t.format,s=t.utc,a=void 0;return r=s?i.utc(r):i(r),o?(this.state.now&&(r=r.local()),a=r.format(o)):a=r.from(e),n.createElement("span",null,a)}}),a=n.createClass({displayName:"DateDuration",propTypes:{duration:n.PropTypes.number,format:n.PropTypes.string,refresh:n.PropTypes.number},getDefaultProps:function(){return{format:"h [hrs], m [min], s [sec]",refresh:1e3}},getInitialState:function(){return{elapsed:0}},tick:function(){var e=this.state.elapsed,t=this.props.refresh;this.setState({elapsed:e+t})},componentDidMount:function(){var e=this.props.refresh;e>0&&(this.interval=setInterval(this.tick,e))},componentWillUnmount:function(){clearInterval(this.interval)},render:function(){var e=this.props,t=e.duration,r=e.format,o=this.state.elapsed;return t+=o,n.createElement("span",null,i.duration(t).format(r))}}),c=n.createClass({displayName:"DateContext",propTypes:{children:n.PropTypes.node,now:o},childContextTypes:{now:o},getChildContext:function(){return{now:this.props.now}},render:function(){return n.Children.only(this.props.children)}});t.exports=s,t.exports.shape=o,t.exports.Context=c,t.exports.Duration=a},{moment:"moment","moment-duration-format":72,react:"react"}],47:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=e("./Button"),c=e("./Icon"),l=e("./Backdrop"),p=e("./utils/warning"),u=o.createClass({displayName:"ButtonDropdown",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node,up:o.PropTypes.bool,center:o.PropTypes.bool,size:o.PropTypes.string,scroll:o.PropTypes.bool},getDefaultProps:function(){return{scroll:!1,up:!1,center:!1}},getInitialState:function(){return{open:!1}},toggle:function(e){e&&e.stopPropagation(),this.setState({open:!this.state.open})},close:function(){this.setState({open:!1})},render:function(){var e=this,t=[],r=[],c=this.props,p=c.className,u=c.children,d=c.up,h=c.center,f=c.size,g=c.scroll,y=n(c,["className","children","up","center","size","scroll"]),v=this.state.open;p=s("dropdown",p,{dropup:d,dropcenter:h}),t=o.Children.map(u,function(t){return t&&t.type&&t.type.displayName&&t.type.displayName.indexOf("Button")!==-1?t.props.onClick||t.props.href?t:o.cloneElement(t,{onClick:e.toggle,dropdownToggle:!0}):null}),r=o.Children.map(u,function(t){var r=["DropdownItem","DropdownDivider","DropdownHeader"];return t&&t.type&&r.includes(t.type.displayName)?o.cloneElement(t,{onClick:function(){t.props.onClick&&t.props.onClick(),e.close()}}):null});var b=o.createElement(a.Group,i({},y,{className:p}),t);return v?o.createElement(l,{wrapper:b,onClose:this.close,scroll:!0},o.createElement(m,{size:f,scroll:g},r)):b}}),d=o.createClass({displayName:"DropdownItem",propTypes:{children:o.PropTypes.node,onClick:o.PropTypes.func,href:o.PropTypes.string,disabled:o.PropTypes.bool,divider:o.PropTypes.bool,header:o.PropTypes.bool,checked:o.PropTypes.bool},onClick:function e(t){var r=this.props,n=r.href,e=r.onClick;n||(t.preventDefault(),t.stopPropagation(),e&&e())},isInner:function(e){return!e||!e.type||"DropdownMenu"!==e.type.displayName},render:function(){var e=this.props,t=e.children,r=e.divider,n=e.disabled,s=e.header,a=e.checked,l=e.href;if(r)return p('Prop "divider" on Dropdown.Item is deprecated, use Dropdown.Divider instead'),o.createElement(h,null);if(s)return p('Prop "header" on Dropdown.Item is deprecated, use Dropdown.Header instead'),o.createElement(f,null,t);var u=[],d=[];return u=o.Children.map(t,function(e){return this.isInner(e)?e:null},this),d=o.Children.map(t,function(e){return this.isInner(e)?null:e},this),o.createElement("li",{className:n?"disabled":""},o.createElement("a",i({},this.props,{href:l||"#",onClick:n?null:this.onClick}),a?o.createElement("div",{className:"dropdown-icon pull-left"},o.createElement(c,{id:"check"})):"",u),d)}}),h=o.createClass({displayName:"DropdownDivider",render:function(){return o.createElement("li",{className:"divider"})}}),f=o.createClass({displayName:"DropdownHeader",propTypes:{children:o.PropTypes.node},render:function(){var e=this.props.children;return o.createElement("li",{className:"dropdown-header"},e)}}),m=o.createClass({displayName:"DropdownMenu",propTypes:{className:o.PropTypes.string,children:o.PropTypes.node,size:o.PropTypes.string,scroll:o.PropTypes.bool},getDefaultProps:function(){return{size:"sm",scroll:!0}},getInitialState:function(){return{maxHeight:null}},detectMaxSize:function(){var e=this.props.scroll,t=this.refs.container;if(e){var r=t.getBoundingClientRect(),n=window.innerHeight-r.top-30;this.setState({maxHeight:n})}},componentDidMount:function(){this.detectMaxSize()},componentDidUpdate:function(e){var t=e.children!=this.props.children;t&&this.detectMaxSize()},render:function(){var e=this.props,t=e.children,r=e.size,n=this.state.maxHeight,i=s("dropdown-menu","dropdown-"+r);return o.createElement("div",{ref:"container",className:i},o.createElement("ul",{style:{maxHeight:n}},t))}}),g=o.createClass({displayName:"ItemHeader",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",{className:"dropdown-itemheader"},this.props.children)}}),y=o.createClass({displayName:"ItemDesc",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",{className:"dropdown-itemdesc"},this.props.children)}});t.exports=u,t.exports.Divider=h,t.exports.Header=f,t.exports.Item=d,t.exports.Item.Header=g,t.exports.Item.Desc=y,t.exports.Menu=m},{"./Backdrop":42,"./Button":44,"./Icon":49,"./utils/warning":70,classnames:37,react:"react"}],48:[function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=e("react"),o=e("classnames"),s=i.createClass({displayName:"Form",propTypes:{children:i.PropTypes.node},submit:function(){this.refs.form.submit()},render:function(){return i.createElement("form",n({ref:"form"},this.props),this.props.children)}}),a=i.createClass({displayName:"FormGroup",propTypes:{error:i.PropTypes.bool,className:i.PropTypes.string,children:i.PropTypes.node},getDefaulProps:function(){return{error:!1}},render:function(){var e=o("form-group",{"has-error":this.props.error},this.props.className);return i.createElement("div",{className:e},this.props.children)}}),c=i.createClass({displayName:"FormHelpBlock",propTypes:{children:i.PropTypes.node},render:function(){return i.createElement("p",{className:"help-block"},this.props.children)}}),l=i.createClass({displayName:"FormActions",propTypes:{children:i.PropTypes.node},render:function(){return i.createElement("div",{className:"form-actions"},this.props.children)}});t.exports=s,t.exports.Actions=l,t.exports.Group=a,t.exports.HelpBlock=c},{classnames:37,react:"react"}],49:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=["alert","arrow-down","arrow-left","arrow-right","arrow-small-down","arrow-small-left","arrow-small-right","arrow-small-up","arrow-up","beaker","bell","bold","book","bookmark","briefcase","broadcast","browser","bug","calendar","check","checklist","chevron-down","chevron-left","chevron-right","chevron-up","circle-slash","circuit-board","clippy","clock","cloud-download","cloud-upload","code","comment-discussion","comment","credit-card","dash","dashboard","database","desktop-download","device-camera-video","device-camera","device-desktop","device-mobile","diff-added","diff-ignored","diff-modified","diff-removed","diff-renamed","diff","ellipsis","eye","file-binary","file-code","file-directory","file-media","file-pdf","file-submodule","file-symlink-directory","file-symlink-file","file-text","file-zip","flame","fold","gear","gift","gist-secret","gist","git-branch","git-commit","git-compare","git-merge","git-pull-request","globe","graph","heart","history","home","horizontal-rule","hubot","inbox","info","issue-closed","issue-opened","issue-reopened","italic","jersey","key","keyboard","law","light-bulb","link-external","link","list-ordered","list-unordered","location","lock","logo-gist","logo-github","mail-read","mail-reply","mail","mark-github","markdown","megaphone","mention","milestone","mirror","mortar-board","mute","no-newline","octoface","organization","package","paintcan","pencil","person","pin","plug","plus","primitive-dot","primitive-square","pulse","question","quote","radio-tower","repo-clone","repo-force-push","repo-forked","repo-pull","repo-push","repo","rocket","rss","ruby","search","server","settings","shield","sign-in","sign-out","smiley","squirrel","star","stop","sync","tag","tasklist","telescope","terminal","text-size","three-bars","thumbsdown","thumbsup","tools","trashcan","triangle-down","triangle-left","triangle-right","triangle-up","unfold","unmute","verified","versions","watch","x","zap"],s=n.createClass({displayName:"Icon",statics:{OCTICONS:o},propTypes:{id:n.PropTypes.string,type:n.PropTypes.string,className:n.PropTypes.string,spin:n.PropTypes.bool},getDefaultProps:function(){return{type:"octicon",spin:!1}},render:function(){var e=this.props,t=e.type,r=e.id,o=e.className,s=e.spin;return o=i("Icon",t+" "+t+"-"+r,o,{"icon-spin":s}),n.createElement("i",{className:o})}});t.exports=s},{classnames:37,react:"react"}],50:[function(e,t,r){"use strict";function n(e){return o.createClass({displayName:c.displayName+e,render:function(){return o.createElement(c,i({},this.props,{type:e.toLowerCase()}))}})}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=e("./SIZES"),c=o.createClass({displayName:"Input",propTypes:{className:o.PropTypes.string,onChange:o.PropTypes.func,onFocus:o.PropTypes.func,onBlur:o.PropTypes.func,onPaste:o.PropTypes.func,onKeyDown:o.PropTypes.func,onClick:o.PropTypes.func,name:o.PropTypes.string,type:o.PropTypes.string,placeholder:o.PropTypes.string,disabled:o.PropTypes.bool,focus:o.PropTypes.bool,readOnly:o.PropTypes.bool,autoFocus:o.PropTypes.bool,size:o.PropTypes.oneOf(a),defaultValue:o.PropTypes.string,value:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.bool])},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},getDefaultProps:function(){return{type:"text",size:a[0]}},onChange:function(e){this.props.onChange&&this.props.onChange(e)},render:function(){var e=this.props,t=e.onPaste,r=e.onBlur,n=e.onFocus,i=e.onKeyDown,a=e.onClick,c=e.value,l=e.readOnly,p=e.defaultValue,u=e.size,d=e.autoFocus,h=e.placeholder,f=e.type,m=e.focus,g=e.name,y=e.disabled,v=s("form-control","input-"+u,this.props.className,{focus:m});return o.createElement("input",{ref:"input",type:f,autoFocus:d,className:v,disabled:y,readOnly:l,name:g,value:c,defaultValue:p,placeholder:h,onFocus:n,onBlur:r,onKeyDown:i,onClick:a,onPaste:t,onChange:this.onChange})}}),l=o.createClass({displayName:"InputGroup",propTypes:{children:o.PropTypes.node,className:o.PropTypes.string},render:function(){var e=s("input-group",this.props.className||[]);return o.createElement("div",{className:e},this.props.children)}}),p=o.createClass({displayName:"InputGroupAddon",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("span",i({},this.props,{className:"input-group-addon"}),this.props.children)}});t.exports=c,t.exports.Email=n("Email"),t.exports.Password=n("Password"),t.exports.Group=l,t.exports.GroupAddon=p},{"./SIZES":63,classnames:37,react:"react"}],51:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=o.createClass({displayName:"Link",propTypes:{href:o.PropTypes.string,className:o.PropTypes.string,children:o.PropTypes.node,muted:o.PropTypes.bool,underlined:o.PropTypes.bool,onClick:o.PropTypes.func},getDefaultProps:function(){return{href:"#"}},onClick:function e(t){var e=this.props.onClick;e&&(t.preventDefault(),e(t))},render:function(){var e=this.props,t=e.href,r=e.className,a=e.children,c=e.muted,l=e.underlined,p=(e.onClick,n(e,["href","className","children","muted","underlined","onClick"]));return r=s(r,{"muted-link":c,"underlined-link":l}),o.createElement("a",i({className:r,href:t,onClick:this.onClick},p),a)}});t.exports=a},{classnames:37,react:"react"}],52:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=n.createClass({displayName:"Markdown",propTypes:{source:n.PropTypes.string.isRequired,className:n.PropTypes.string,convert:n.PropTypes.func},render:function(){var e=this.props,t=e.source,r=e.convert,o=e.className,s=r?r(t):t;return o=i("gb-markdown",o),n.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:s}})}});t.exports=o},{classnames:37,react:"react"}],53:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=n.createClass({displayName:"MenuItem",propTypes:{active:n.PropTypes.bool,href:n.PropTypes.string,className:n.PropTypes.string,onClick:n.PropTypes.func,children:n.PropTypes.node},getDefaultProps:function(){return{active:!1,href:null}},render:function(){var e=this.props,t=e.href,r=e.onClick,o=i(this.props.className||"",{active:this.props.active});return n.createElement("li",{className:o},n.createElement("a",{href:t||"#",onClick:r},this.props.children))}}),s=n.createClass({displayName:"Menu",propTypes:{right:n.PropTypes.bool,left:n.PropTypes.bool,children:n.PropTypes.node},getDefaultProps:function(){return{active:!1,href:null}},render:function(){var e=i("menu",{"pull-right":this.props.right,"pull-left":this.props.left});return n.createElement("ul",{className:e},this.props.children)}});t.exports=s,t.exports.Item=o},{classnames:37,react:"react"}],54:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./Icon"),s=n.createClass({displayName:"Overview",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"overview"},this.props.children)}});s.Title=n.createClass({displayName:"Title",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("h1",{className:"overview-title"},this.props.children)}}),s.StepTitle=n.createClass({displayName:"StepTitle",propTypes:{children:n.PropTypes.node,primary:n.PropTypes.bool,href:n.PropTypes.string},render:function(){var e=this.props,t=e.children,r=e.primary,o=e.href,s=i("overview-steptitle",{primary:r});return o?n.createElement("a",{href:o,className:s},t):n.createElement("div",{className:s},t)}}),s.StepDivider=n.createClass({displayName:"StepDivider",render:function(){return n.createElement("div",{className:"overview-stepdivider"},n.createElement(o,{id:"chevron-right"}))}}),s.Note=n.createClass({displayName:"Note",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("p",{className:"overview-note"},this.props.children)}}),s.Description=n.createClass({displayName:"Description",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("p",{className:"overview-description"},this.props.children)}}),s.Meta=n.createClass({displayName:"Meta",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"overview-meta"},this.props.children)}}),t.exports=s},{"./Icon":49,classnames:37,react:"react"}],55:[function(e,t,r){"use strict";var n=e("react"),i=n.createClass({displayName:"PageBody",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"gb-page-body"},this.props.children)}});t.exports=i},{react:"react"}],56:[function(e,t,r){"use strict";var n=e("react"),i=e("./Menu"),o=e("../icons/Logo"),s=n.createClass({displayName:"FooterLogo",render:function(){return n.createElement("div",{className:"footer-logo"},n.createElement(o,null))}}),a=n.createClass({displayName:"FooterCopyright",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement(i.Item,{href:"https://www.gitbook.com",className:"footer-copyright"}," GitBook.com")}}),c=n.createClass({displayName:"PageFooter",statics:{Copyright:a,Logo:s},propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"gb-page-footer"},this.props.children)}});t.exports=c},{"../icons/Logo":38,"./Menu":53,react:"react"}],57:[function(e,t,r){"use strict";var n=e("react"),i=n.createClass({displayName:"PageHead",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"pagehead"},this.props.children)}}),o=n.createClass({displayName:"HeadTitle",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("h1",{className:"head-heading"},this.props.children)}});t.exports=i,t.exports.Title=o},{react:"react"}],58:[function(e,t,r){"use strict";var n=e("react"),i=e("../icons/LogoText"),o=n.createClass({displayName:"PageHeader",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"gb-page-header"},this.props.children)}}),s=n.createClass({displayName:"Logo",propTypes:{href:n.PropTypes.string,src:n.PropTypes.string,children:n.PropTypes.node},render:function(){var e=this.props.href;return n.createElement("a",{href:e,className:"logo pull-left"},n.createElement(i,null))}});t.exports=o,t.exports.Logo=s},{"../icons/LogoText":39,react:"react"}],59:[function(e,t,r){"use strict";var n=e("react"),i=n.createClass({displayName:"PageInner",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"gb-page-inner"},this.props.children)}});t.exports=i},{react:"react"}],60:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=n.createClass({displayName:"PageWrapper",propTypes:{withPageHead:n.PropTypes.bool,children:n.PropTypes.node},render:function(){var e=i("gb-page-wrapper",{"with-pagehead":this.props.withPageHead});return n.createElement("div",{className:e},this.props.children)}});t.exports=o},{classnames:37,react:"react"}],61:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./STYLES"),s=n.createClass({displayName:"Panel",propTypes:{style:n.PropTypes.oneOf(o),children:n.PropTypes.node},getDefaultProps:function(){return{style:o[0]}},render:function(){var e=this.props.style;return n.createElement("div",{className:i("panel","panel-"+e)},this.props.children)}}),a=n.createClass({displayName:"PanelHeading",propTypes:{title:n.PropTypes.string,children:n.PropTypes.node},render:function(){var e=this.props.title,t="";return e&&(t=n.createElement(c,null,e)),n.createElement("div",{className:"panel-heading"},t,this.props.children)}}),c=n.createClass({displayName:"PanelTitle",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("h3",{className:"panel-title"},this.props.children)}}),l=n.createClass({displayName:"PanelToolbar",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"panel-toolbar"},this.props.children)}}),p=n.createClass({displayName:"PanelBody",propTypes:{children:n.PropTypes.node},render:function(){return n.createElement("div",{className:"panel-body"},this.props.children)}});t.exports=s,t.exports.Heading=a,t.exports.Title=c,t.exports.Body=p,t.exports.Toolbar=l},{"./STYLES":64,classnames:37,react:"react"}],62:[function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=e("react"),s=e("classnames"),a=e("./Link"),c=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l=o.createClass({displayName:"Popover",propTypes:{position:o.PropTypes.oneOf(c),children:o.PropTypes.node},getDefaultProps:function(){return{position:"bottom"}},render:function(){var e=this.props.position,t=s("popover","popover-"+e);return o.createElement("div",{className:"popover-wrapper"},o.createElement("div",{className:t},o.createElement(u,null,o.createElement("div",{className:"popover-arrow"}),this.props.children)))}}),p=o.createClass({displayName:"PopoverContainer",propTypes:{children:o.PropTypes.node,className:o.PropTypes.string},render:function(){var e=this.props,t=e.className,r=n(e,["className"]);return t=s("popover-container",t),o.createElement("div",i({className:t},r),this.props.children);}}),u=o.createClass({displayName:"PopoverCard",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",i({className:"popover-card"},this.props),this.props.children)}}),d=o.createClass({displayName:"PopoverBody",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",{className:"popover-body"},this.props.children)}}),h=o.createClass({displayName:"PopoverTitle",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",{className:"popover-title"},this.props.children)}}),f=o.createClass({displayName:"PopoverHeading",propTypes:{title:o.PropTypes.string,children:o.PropTypes.node},render:function(){var e=this.props,t=e.title,r=e.children;return t&&(r=o.createElement(h,null,t)),o.createElement("div",{className:"popover-heading"},r)}}),m=o.createClass({displayName:"PopoverControl",propTypes:{children:o.PropTypes.node,onClick:o.PropTypes.func,active:o.PropTypes.bool},render:function(){var e=this.props,t=e.onClick,r=e.children,n=e.active,i=s("control",{active:n});return o.createElement(a,{className:i,onClick:t},r)}}),g=o.createClass({displayName:"PopoverControls",propTypes:{children:o.PropTypes.node},render:function(){return o.createElement("div",{className:"popover-controls"},this.props.children)}});t.exports=l,t.exports.Card=u,t.exports.Body=d,t.exports.Heading=f,t.exports.Title=h,t.exports.Container=p,t.exports.Control=m,t.exports.Controls=g},{"./Link":51,classnames:37,react:"react"}],63:[function(e,t,r){"use strict";var n=["md","xs","sm","lg"];t.exports=n},{}],64:[function(e,t,r){"use strict";var n=["default","info","warning","success","danger","primary"];t.exports=n},{}],65:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./SIZES"),s=n.createClass({displayName:"SVGIcon",propTypes:{svg:n.PropTypes.string,className:n.PropTypes.string,size:n.PropTypes.oneOf(o)},getDefaultProps:function(){return{size:"sm"}},render:function(){var e=this.props,t=e.svg,r=e.size,o=e.className,s=i("Icon","SVGIcon","size-"+r,o);return n.createElement("span",{className:s,dangerouslySetInnerHTML:{__html:t}})}});t.exports=s},{"./SIZES":63,classnames:37,react:"react"}],66:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./SIZES"),s=n.createClass({displayName:"Spinner",propTypes:{centered:n.PropTypes.bool,inverse:n.PropTypes.bool,size:n.PropTypes.oneOf(o)},getDefaultProps:function(){return{centered:!0,size:"md"}},render:function(){var e=i("gb-spinner","spinner-"+this.props.size,{"spinner-inverse":this.props.inverse,"spinner-centered":this.props.centered});return n.createElement("span",{className:e})}}),a=n.createClass({displayName:"SpinnerSlate",render:function(){return n.createElement("div",{className:"gb-spinner-slate"},n.createElement(s,this.props))}});t.exports=s,t.exports.Slate=a},{"./SIZES":63,classnames:37,react:"react"}],67:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o={BOTTOM_RIGHT:"e",BOTTOM_LEFT:"w",TOP_LEFT:"nw",TOP_RIGHT:"ne",BOTTOM:"",TOP:"n"},s=n.createClass({displayName:"Tooltip",propTypes:{title:n.PropTypes.string.isRequired,position:n.PropTypes.string,open:n.PropTypes.bool,children:n.PropTypes.node},getDefaultProps:function(){return{open:!1,position:o.BOTTOM}},render:function(){var e=i("tooltipped-overlay","tooltipped-"+this.props.position,"tooltipped",{"tooltipped-o":this.props.open});return n.createElement("div",{className:e,"aria-label":this.props.title},this.props.children)}});t.exports=s,t.exports.POSITIONS=o},{classnames:37,react:"react"}],68:[function(e,t,r){"use strict";var n="undefined"==typeof window;t.exports=n},{}],69:[function(e,t,r){(function(e){"use strict";var r="undefined"!=typeof e&&e.env&&"production"!==e.env.NODE_ENV;t.exports=r}).call(this,e("_process"))},{_process:74}],70:[function(e,t,r){"use strict";var n=e("./is-dev");t.exports=function(e){if(n){if("undefined"!=typeof console){for(var t,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=console).error.apply(t,["Warning: "+e].concat(i))}try{throw new Error(e)}catch(e){}}}},{"./is-dev":69}],71:[function(e,t,r){"use strict";function n(){return C=P,N=new re,ae(),N.init(),ce(),N}var i,o={DEBUG:!1,LIB_VERSION:"2.11.0"};i="undefined"==typeof window?{navigator:{}}:window;var s=Array.prototype,a=Function.prototype,c=Object.prototype,l=s.slice,p=c.toString,u=c.hasOwnProperty,d=i.console,h=i.navigator,f=i.document,m=h.userAgent,g=a.bind,y=s.forEach,v=s.indexOf,b=Array.isArray,_={},k={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},w={log:function(){if(o.DEBUG&&!k.isUndefined(d)&&d)try{d.log.apply(d,arguments)}catch(e){k.each(arguments,function(e){d.log(e)})}},error:function(){if(o.DEBUG&&!k.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(k.toArray(arguments));try{d.error.apply(d,e)}catch(t){k.each(e,function(e){d.error(e)})}}},critical:function(){if(!k.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(k.toArray(arguments));try{d.error.apply(d,e)}catch(t){k.each(e,function(e){d.error(e)})}}}};k.bind=function(e,t){var r,n;if(g&&e.bind===g)return g.apply(e,l.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return r=l.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(l.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,r.concat(l.call(arguments)));return Object(s)===s?s:o}},k.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=k.bind(e[t],e))},k.each=function(e,t,r){if(null!==e&&void 0!==e)if(y&&e.forEach===y)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===_)return}else for(var o in e)if(u.call(e,o)&&t.call(r,e[o],o,e)===_)return},k.escapeHTML=function(e){var t=e;return t&&k.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},k.extend=function(e){return k.each(l.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},k.isArray=b||function(e){return"[object Array]"===p.call(e)},k.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},k.isArguments=function(e){return!(!e||!u.call(e,"callee"))},k.toArray=function(e){return e?e.toArray?e.toArray():k.isArray(e)?l.call(e):k.isArguments(e)?l.call(e):k.values(e):[]},k.values=function(e){var t=[];return null===e?t:(k.each(e,function(e){t[t.length]=e}),t)},k.identity=function(e){return e},k.include=function(e,t){var r=!1;return null===e?r:v&&e.indexOf===v?e.indexOf(t)!=-1:(k.each(e,function(e){if(r||(r=e===t))return _}),r)},k.includes=function(e,t){return e.indexOf(t)!==-1},k.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},k.isObject=function(e){return e===Object(e)&&!k.isArray(e)},k.isEmptyObject=function(e){if(k.isObject(e)){for(var t in e)if(u.call(e,t))return!1;return!0}return!1},k.isUndefined=function(e){return void 0===e},k.isString=function(e){return"[object String]"==p.call(e)},k.isDate=function(e){return"[object Date]"==p.call(e)},k.isNumber=function(e){return"[object Number]"==p.call(e)},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.encodeDates=function(e){return k.each(e,function(t,r){k.isDate(t)?e[r]=k.formatDate(t):k.isObject(t)&&(e[r]=k.encodeDates(t))}),e},k.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},k.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},k.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){w.critical("Implementation error. Please contact support@mixpanel.com.")}}},k.safewrap_class=function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=k.safewrap(e.prototype[t[r]])},k.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=k.safewrap(e[t]))},k.strip_empty_properties=function(e){var t={};return k.each(e,function(e,r){k.isString(e)&&e.length>0&&(t[r]=e)}),t},k.truncate=function(e,t){var r;return"string"==typeof e?r=e.slice(0,t):k.isArray(e)?(r=[],k.each(e,function(e){r.push(k.truncate(e,t))})):k.isObject(e)?(r={},k.each(e,function(e,n){r[n]=k.truncate(e,t)})):r=e,r},k.JSONEncode=function(){return function(e){var t=e,r=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n=function(e,t){var i="",o="    ",s=0,a="",c="",l=0,d=i,h=[],f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),typeof f){case"string":return r(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(i+=o,h=[],"[object Array]"===p.apply(f)){for(l=f.length,s=0;s<l;s+=1)h[s]=n(s,f)||"null";return c=0===h.length?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+d+"]":"["+h.join(",")+"]",i=d,c}for(a in f)u.call(f,a)&&(c=n(a,f),c&&h.push(r(a)+(i?": ":":")+c));return c=0===h.length?"{}":i?"{"+h.join(",")+d+"}":"{"+h.join(",")+"}",i=d,c}};return n("",{"":t})}}(),k.JSONDecode=function(){var e,t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},s=function(n){return n&&n!==t&&o("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},a=function(){var e,r="";for("-"===t&&(r="-",s("-"));t>="0"&&t<="9";)r+=t,s();if("."===t)for(r+=".";s()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,s(),"-"!==t&&"+"!==t||(r+=t,s());t>="0"&&t<="9";)r+=t,s();return e=+r,isFinite(e)?e:void o("Bad number")},c=function(){var e,r,n,a="";if('"'===t)for(;s();){if('"'===t)return s(),a;if("\\"===t)if(s(),"u"===t){for(n=0,r=0;r<4&&(e=parseInt(s(),16),isFinite(e));r+=1)n=16*n+e;a+=String.fromCharCode(n)}else{if("string"!=typeof i[t])break;a+=i[t]}else a+=t}o("Bad string")},l=function(){for(;t&&t<=" ";)s()},p=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}o('Unexpected "'+t+'"')},u=function(){var e=[];if("["===t){if(s("["),l(),"]"===t)return s("]"),e;for(;t;){if(e.push(n()),l(),"]"===t)return s("]"),e;s(","),l()}}o("Bad array")},d=function(){var e,r={};if("{"===t){if(s("{"),l(),"}"===t)return s("}"),r;for(;t;){if(e=c(),l(),s(":"),Object.hasOwnProperty.call(r,e)&&o('Duplicate key "'+e+'"'),r[e]=n(),l(),"}"===t)return s("}"),r;s(","),l()}}o("Bad object")};return n=function(){switch(l(),t){case"{":return d();case"[":return u();case'"':return c();case"-":return a();default:return t>="0"&&t<="9"?a():p()}},function(i){var s;return r=i,e=0,t=" ",s=n(),l(),t&&o("Syntax error"),s}}(),k.base64Encode=function(e){var t,r,n,i,o,s,a,c,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,u=0,d="",h=[];if(!e)return e;e=k.utf8Encode(e);do t=e.charCodeAt(p++),r=e.charCodeAt(p++),n=e.charCodeAt(p++),c=t<<16|r<<8|n,i=c>>18&63,o=c>>12&63,s=c>>6&63,a=63&c,h[u++]=l.charAt(i)+l.charAt(o)+l.charAt(s)+l.charAt(a);while(p<e.length);switch(d=h.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d},k.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t,r,n,i="",o=0;for(t=r=0,o=e.length,n=0;n<o;n++){var s=e.charCodeAt(n),a=null;s<128?r++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(r>t&&(i+=e.substring(t,r)),i+=a,t=r=n+1)}return r>t&&(i+=e.substring(t,e.length)),i},k.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){function e(e,t){var r,n=0;for(r=0;r<t.length;r++)n|=i[r]<<8*r;return e^n}var t,r,n=m,i=[],o=0;for(t=0;t<n.length;t++)r=n.charCodeAt(t),i.unshift(255&r),i.length>=4&&(o=e(o,i),i=[]);return i.length>0&&(o=e(o,i)),o.toString(16)};return function(){var n=(screen.height*screen.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}(),k.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},k.HTTPBuildQuery=function(e,t){var r,n,i=[];return k.isUndefined(t)&&(t="&"),k.each(e,function(e,t){r=encodeURIComponent(e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r}),i.join(t)},k.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);return null===i||i&&"string"!=typeof i[1]&&i[1].length?"":decodeURIComponent(i[1]).replace(/\+/g," ")},k.getHashParam=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},k.cookie={get:function(e){for(var t=e+"=",r=f.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=k.JSONDecode(k.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,r,n,i){var o="",s="",a="";if(n){var c=f.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),l=c?c[0]:"";o=l?"; domain=."+l:""}if(r){var p=new Date;p.setTime(p.getTime()+1e3*r),s="; expires="+p.toGMTString()}i&&(a="; secure"),f.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+o+a},set:function(e,t,r,n,i){var o="",s="",a="";if(n){var c=f.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),l=c?c[0]:"";o=l?"; domain=."+l:""}if(r){var p=new Date;p.setTime(p.getTime()+24*r*60*60*1e3),s="; expires="+p.toGMTString()}i&&(a="; secure");var u=e+"="+encodeURIComponent(t)+s+"; path=/"+o+a;return f.cookie=u,u},remove:function(e,t){k.cookie.set(e,"",-1,t)}},k.localStorage={error:function(e){w.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){k.localStorage.error(e)}return null},parse:function(e){try{return k.JSONDecode(k.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){k.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){k.localStorage.error(e)}}},k.register_event=function(){function e(e,r,n){var i=function(i){if(i=i||t(window.event)){var o,s,a=!0;return k.isFunction(n)&&(o=n(i)),s=r.call(e,i),!1!==o&&!1!==s||(a=!1),a}};return i}function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}var r=function(t,r,n,i,o){if(!t)return void w.error("No valid element provided to register_event");if(t.addEventListener&&!i)t.addEventListener(r,n,!!o);else{var s="on"+r,a=t[s];t[s]=e(t,n,a)}};return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},r}(),k.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}function t(e,t){var r=" "+t+" ";return(" "+e.className+" ").replace(n," ").indexOf(r)>=0}function r(r){if(!f.getElementsByTagName)return[];var n,i,o,s,a,c,l,p,u,d,h=r.split(" "),m=[f];for(c=0;c<h.length;c++)if(n=h[c].replace(/^\s+/,"").replace(/\s+$/,""),n.indexOf("#")>-1){i=n.split("#"),o=i[0];var g=i[1],y=f.getElementById(g);if(!y||o&&y.nodeName.toLowerCase()!=o)return[];m=[y]}else if(n.indexOf(".")>-1){i=n.split("."),o=i[0];var v=i[1];for(o||(o="*"),s=[],a=0,l=0;l<m.length;l++)for(u="*"==o?e(m[l]):m[l].getElementsByTagName(o),p=0;p<u.length;p++)s[a++]=u[p];for(m=[],d=0,l=0;l<s.length;l++)s[l].className&&k.isString(s[l].className)&&t(s[l],v)&&(m[d++]=s[l])}else{var b=n.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(b){o=b[1];var _=b[2],w=b[3],E=b[4];for(o||(o="*"),s=[],a=0,l=0;l<m.length;l++)for(u="*"==o?e(m[l]):m[l].getElementsByTagName(o),p=0;p<u.length;p++)s[a++]=u[p];m=[],d=0;var T;switch(w){case"=":T=function(e){return e.getAttribute(_)==E};break;case"~":T=function(e){return e.getAttribute(_).match(new RegExp("\\b"+E+"\\b"))};break;case"|":T=function(e){return e.getAttribute(_).match(new RegExp("^"+E+"-?"))};break;case"^":T=function(e){return 0===e.getAttribute(_).indexOf(E)};break;case"$":T=function(e){return e.getAttribute(_).lastIndexOf(E)==e.getAttribute(_).length-E.length};break;case"*":T=function(e){return e.getAttribute(_).indexOf(E)>-1};break;default:T=function(e){return e.getAttribute(_)}}for(m=[],d=0,l=0;l<s.length;l++)T(s[l])&&(m[d++]=s[l])}else{for(o=n,s=[],a=0,l=0;l<m.length;l++)for(u=m[l].getElementsByTagName(o),p=0;p<u.length;p++)s[a++]=u[p];m=s}}return m}var n=/[\t\r\n]/g;return function(e){return k.isElement(e)?[e]:k.isObject(e)&&!k.isUndefined(e.length)?e:r.call(this,e)}}(),k.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",r={};return k.each(e,function(e){t=k.getQueryParam(f.URL,e),t.length&&(r[e]=t)}),r},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=k.info.searchEngine(e),r="yahoo"!=t?"q":"p",n={};if(null!==t){n.$search_engine=t;var i=k.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||k.includes(e," OPR/")?k.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":k.includes(e,"IEMobile")||k.includes(e,"WPDesktop")?"Internet Explorer Mobile":k.includes(e,"Edge")?"Microsoft Edge":k.includes(e,"FBIOS")?"Facebook Mobile":k.includes(e,"Chrome")?"Chrome":k.includes(e,"CriOS")?"Chrome iOS":k.includes(e,"UCWEB")||k.includes(e,"UCBrowser")?"UC Browser":k.includes(e,"FxiOS")?"Firefox iOS":k.includes(t,"Apple")?k.includes(e,"Mobile")?"Mobile Safari":"Safari":k.includes(e,"Android")?"Android Mobile":k.includes(e,"Konqueror")?"Konqueror":k.includes(e,"Firefox")?"Firefox":k.includes(e,"MSIE")||k.includes(e,"Trident/")?"Internet Explorer":k.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=k.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},o=i[n];if(void 0===o)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=m;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return k.extend(k.strip_empty_properties({$os:k.info.os(),$browser:k.info.browser(m,h.vendor,window.opera),$referrer:f.referrer,$referring_domain:k.info.referringDomain(f.referrer),$device:k.info.device(m)}),{$current_url:window.location.href,$browser_version:k.info.browserVersion(m,h.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:o.LIB_VERSION})},people_properties:function(){return k.extend(k.strip_empty_properties({$os:k.info.os(),$browser:k.info.browser(m,h.vendor,window.opera)}),{$browser_version:k.info.browserVersion(m,h.vendor,window.opera)})},pageviewInfo:function(e){return k.strip_empty_properties({mp_page:e,mp_referrer:f.referrer,mp_browser:k.info.browser(m,h.vendor,window.opera),mp_platform:k.info.os()})}},k.toArray=k.toArray,k.isObject=k.isObject,k.JSONEncode=k.JSONEncode,k.JSONDecode=k.JSONDecode,k.isBlockedUA=k.isBlockedUA,k.isEmptyObject=k.isEmptyObject,k.info=k.info,k.info.device=k.info.device,k.info.browser=k.info.browser,k.info.properties=k.info.properties;var E=1,T=3,x={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&e.nodeType!==E);return e},_loadScript:function(e,t){var r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t;var n=document.getElementsByTagName("script");n.length>0?n[0].parentNode.insertBefore(r,n[0]):document.body.appendChild(r)},_getClassName:function(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(k.includes(["input","select","textarea"],e.tagName.toLowerCase())){var r=this._getFormFieldValue(e);this._includeProperty(e,r)&&(t.value=r)}k.each(e.attributes,function(e){t["attr__"+e.name]=e.value});for(var n=1,i=1,o=e;o=this._previousElementSibling(o);)n++,o.tagName===e.tagName&&i++;return t.nth_child=n,t.nth_of_type=i,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||e.nodeType!==E)return!1;var r=e.tagName.toLowerCase();switch(r){case"html":return!1;case"form":return"submit"===t.type;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null,r=e.type.toLowerCase();switch(r){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var r=[];k.each(e.querySelectorAll("[selected]"),function(e){r.push(e.value)}),t=r}else t=e.value;return t},_includeProperty:function(e,t){for(var r=e;r.parentNode&&!this._isTag(r,"body");r=r.parentNode){var n=this._getClassName(r).split(" ");if(k.includes(n,"mp-sensitive")||k.includes(n,"mp-no-track"))return!1}if(k.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;var i=e.type||"";switch(i.toLowerCase()){case"hidden":return!1;case"password":return!1}var o=e.name||e.id||"",s=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(s.test(o.replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){var a=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(a.test((t||"").replace(/[\- ]/g,"")))return!1;var c=/(^\d{3}-?\d{2}-?\d{4}$)/;if(c.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return k.each(e.elements,function(e){var r=e.getAttribute("name")||e.getAttribute("id");if(null!==r){r="$form_field__"+r;var n=this._getFormFieldValue(e);if(this._includeProperty(e,n)){var i=t[r];void 0!==i?t[r]=[].concat(i,n):t[r]=n}}},this),t},_extractCustomPropertyValue:function(e){var t=[];return k.each(document.querySelectorAll(e.css_selector),function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)}),t.join(", ")},_getCustomProperties:function(e){var t={};return k.each(this._customProperties,function(r){k.each(r.event_selectors,function(n){var i=document.querySelectorAll(n);k.each(i,function(n){k.includes(e,n)&&(t[r.name]=this._extractCustomPropertyValue(r))},this)},this)},this),t},_getEventTarget:function(e){return"undefined"==typeof e.target?e.srcElement:e.target},_trackEvent:function(e,t){var r=this._getEventTarget(e);if(r.nodeType===T&&(r=r.parentNode),this._shouldTrackDomEvent(r,e)){for(var n=[r],i=r;i.parentNode&&!this._isTag(i,"body");)n.push(i.parentNode),i=i.parentNode;var o,s,a,c=[],l=!1;if(k.each(n,function(e,t){if("a"===e.tagName.toLowerCase()?o=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(a=e),!s&&t<5&&e.textContent){var r=k.trim(e.textContent);r&&(s=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var n=this._getClassName(e).split(" ");k.includes(n,"mp-no-track")&&(l=!0),c.push(this._getPropertiesFromElement(e))},this),l)return!1;var p=k.extend(this._getDefaultProperties(e.type),{$elements:c,$el_attr__href:o,$el_text:s},this._getCustomProperties(n));return!a||"submit"!==e.type&&"click"!==e.type||k.extend(p,this._getFormFieldProperties(a)),t.track("$web_event",p),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=k.bind(function(t){t=t||window.event,this._trackEvent(t,e)},this);k.register_event(document,"submit",t,!1,!0),k.register_event(document,"change",t,!1,!0),k.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(!document||!document.body){console.log("document not ready yet, trying again in 500 milliseconds...");var t=this;return void setTimeout(function(){t.init(e)},500)}var r=e.get_config("token");if(this._initializedTokens.indexOf(r)>-1)return void console.log('autotrack already initialized for token "'+r+'"');if(this._initializedTokens.push(r),!this._maybeLoadEditor(e)){var n=k.bind(function(t){t&&t.config&&t.config.enable_collect_everything===!0?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",k.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1},this);e._send_request(e.get_config("decide_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:r},e._prepare_callback(n))}},_editorParamsFromHash:function(e,t){var r;try{var n=k.getHashParam(t,"state");n=JSON.parse(decodeURIComponent(n));var i=k.getHashParam(t,"expires_in");r={accessToken:k.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(i),bookmarkletMode:!!n.bookmarkletMode,projectId:n.projectId,projectOwnerId:n.projectOwnerId,projectToken:n.token,readOnly:n.readOnly,userFlags:n.userFlags,userId:n.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(r)),n.desiredHash?window.location.hash=n.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){console.error("Unable to parse data from hash",e)}return r},_maybeLoadEditor:function(e){var t=!1;if(k.getHashParam(window.location.hash,"state")){var r=k.getHashParam(window.location.hash,"state");r=JSON.parse(decodeURIComponent(r)),t="mpeditor"===r.action}var n,i=!!window.sessionStorage.getItem("_mpcehash");return t?n=this._editorParamsFromHash(e,window.location.hash):i?(n=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):n=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!n.projectToken||e.get_config("token")!==n.projectToken)&&(this._loadEditor(e,n),!0)},_editorLoaded:!1,_loadEditor:function(e,t){if(!this._editorLoaded){this._editorLoaded=!0;var r,n="?_ts="+(new Date).getTime(),i=e.get_config("app_host")+"/site_media";return r=o.DEBUG?i+"/compiled/reports/collect-everything/editor.js"+n:i+"/bundle-webpack/reports/collect-everything/editor.min.js"+n,this._loadScript(r,function(){window.mp_load_editor(t)}),!0}return!1},enabledForProject:function(e,t,r){t=k.isUndefined(t)?10:t,r=k.isUndefined(r)?10:r;for(var n=0,i=0;i<e.length;i++)n+=e.charCodeAt(i);return n%t<r},isBrowserSupported:function(){return k.isFunction(document.querySelectorAll)}};k.bind_instance_methods(x),k.safewrap_instance_methods(x);var C,N,P=0,S=1,I="mixpanel",O="__mps",D="__mpso",B="__mpa",A="__mpap",M="__mpu",U="$set",j="$set_once",L="$add",H="$append",F="$union",R="$people_distinct_id",q="__alias",$="__cmpns",G="__timers",z=[O,D,B,A,M,R,q,$,G],W="https:"===document.location.protocol?"https://":"http://",V=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Y=!V&&m.indexOf("MSIE")===-1&&m.indexOf("Mozilla")===-1,Z={api_host:W+"api.mixpanel.com",app_host:W+"mixpanel.com",autotrack:!0,cdn:W+"cdn.mxpnl.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]};Z.decide_host=Z.api_host;var K=!1,X=function(){};X.prototype.create_properties=function(){},X.prototype.event_handler=function(){},X.prototype.after_track_handler=function(){},X.prototype.init=function(e){return this.mp=e,this},X.prototype.track=function(e,t,r,n){var i=this,o=k.dom_query(e);return 0===o.length?void w.error("The DOM query ("+e+") returned 0 elements"):(k.each(o,function(e){k.register_event(e,this.override_event,function(e){var o={},s=i.create_properties(r,this),a=i.mp.get_config("track_links_timeout");i.event_handler(e,this,o),window.setTimeout(i.track_callback(n,s,o,!0),a),i.mp.track(t,s,i.track_callback(n,s,o))})},this),!0)},X.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,e&&e(n,t)===!1||i.after_track_handler(t,r,n))}},X.prototype.create_properties=function(e,t){var r;return r="function"==typeof e?e(t):k.extend({},e)};var J=function(){this.override_event="click"};k.inherit(J,X),J.prototype.create_properties=function(e,t){var r=J.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r},J.prototype.event_handler=function(e,t,r){r.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,r.href=t.href,r.new_tab||e.preventDefault()},J.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var Q=function(){this.override_event="submit"};k.inherit(Q,X),Q.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()},Q.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var ee=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(w.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");var r=function(){var e=!0;try{var t="__mplssupport__",r="xyz";k.localStorage.set(t,r),k.localStorage.get(t)!==r&&(e=!1),k.localStorage.remove(t)}catch(t){e=!1}return e||w.error("localStorage unsupported; falling back to cookie store"),e};"localStorage"===t&&r()?this.storage=k.localStorage:this.storage=k.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};ee.prototype.properties=function(){var e={};return k.each(this.props,function(t,r){k.include(z,r)||(e[r]=t)}),e},ee.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=k.extend({},e))}},ee.prototype.upgrade=function(e){var t,r,n=e.upgrade;n&&(t="mp_super_properties","string"==typeof n&&(t=n),r=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),r&&(this.props=k.extend(this.props,r.all,r.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,r=this.storage.parse(t),r&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(r))),this.storage===k.localStorage&&(r=k.cookie.parse(this.name),k.cookie.remove(this.name),k.cookie.remove(this.name,!0),r&&this.register_once(r))},ee.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,k.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},ee.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},ee.prototype.clear=function(){this.remove(),this.props={}},ee.prototype.register_once=function(e,t,r){return!!k.isObject(e)&&("undefined"==typeof t&&(t="None"),this.expire_days="undefined"==typeof r?this.default_expiry:r,k.each(e,function(e,r){this.props[r]&&this.props[r]!==t||(this.props[r]=e)},this),this.save(),!0)},ee.prototype.register=function(e,t){return!!k.isObject(e)&&(this.expire_days="undefined"==typeof t?this.default_expiry:t,k.extend(this.props,e),this.save(),!0)},ee.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},ee.prototype._expire_notification_campaigns=k.safewrap(function(){var e=this.props[$],t=o.DEBUG?6e4:36e5;if(e){for(var r in e)1*new Date-e[r]>t&&delete e[r];k.isEmptyObject(e)&&delete this.props[$]}}),ee.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(k.info.campaignParams()),this.campaign_params_saved=!0)},ee.prototype.update_search_keyword=function(e){this.register(k.info.searchInfo(e))},ee.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:k.info.referringDomain(e)||"$direct"},"")},ee.prototype.get_referrer_info=function(){return k.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},ee.prototype.safe_merge=function(e){return k.each(this.props,function(t,r){r in e||(e[r]=t)}),e},ee.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},ee.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},ee.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},ee.prototype.get_cross_subdomain=function(){return this.cross_subdomain},ee.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},ee.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(U),o=this._get_or_create_queue(j),s=this._get_or_create_queue(L),a=this._get_or_create_queue(F),c=this._get_or_create_queue(H,[]);r===O?(k.extend(i,n),this._pop_from_people_queue(L,n),this._pop_from_people_queue(F,n)):r===D?k.each(n,function(e,t){t in o||(o[t]=e)}):r===B?k.each(n,function(e,t){t in i?i[t]+=e:(t in s||(s[t]=0),s[t]+=e)},this):r===M?k.each(n,function(e,t){k.isArray(e)&&(t in a||(a[t]=[]),a[t]=a[t].concat(e))}):r===A&&c.push(n),w.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),w.log(t),this.save()},ee.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);k.isUndefined(r)||(k.each(t,function(e,t){delete r[t]},this),this.save())},ee.prototype._get_queue_key=function(e){return e===U?O:e===j?D:e===L?B:e===H?A:e===F?M:void w.error("Invalid queue:",e)},ee.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},ee.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=k.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)},ee.prototype.set_event_timer=function(e,t){var r=this.props[G]||{};r[e]=t,this.props[G]=r,this.save()},ee.prototype.remove_event_timer=function(e){var t=this.props[G]||{},r=t[e];return k.isUndefined(r)||(delete this.props[G][e],this.save()),r};var te,re=function(){},ne=function(){},ie=function(e,t,r){var n,i=r===I?N:N[r];if(i&&C===P)n=i;else{if(i&&!k.isArray(i))return void w.error("You have already initialized "+r);n=new re}if(n._init(e,t,r),n.people=new ne,n.people._init(n),o.DEBUG=o.DEBUG||n.get_config("debug"),n.__autotrack_enabled=n.get_config("autotrack"),n.get_config("autotrack")){var s=100,a=100;x.enabledForProject(n.get_config("token"),s,a)?x.isBrowserSupported()?x.init(n):(n.__autotrack_enabled=!1,w.log("Disabling Automatic Event Collection because this browser is not supported")):(n.__autotrack_enabled=!1,w.log("Not in active bucket: disabling Automatic Event Collection."));try{le(n)}catch(e){w.error(e)}}return!k.isUndefined(i)&&k.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};re.prototype.init=function(e,t,r){if(k.isUndefined(r))return void w.error("You must name your new library: init(token, config, name)");if(r===I)return void w.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");var n=ie(e,t,r);return N[r]=n,n._loaded(),n},re.prototype._init=function(e,t,r){this.__loaded=!0,this.config={},this.set_config(k.extend({},Z,t,{name:r,token:e,callback_fn:(r===I?r:"mixpanel."+r)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new ee(this.config),this.register_once({distinct_id:k.UUID()},"")},re.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},re.prototype._dom_loaded=function(){k.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),k.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue},re.prototype._track_dom=function(e,t){if(this.get_config("img"))return w.error("You can't use DOM tracking functions with img = true."),!1;if(!K)return this.__dom_loaded_queue.push([e,t]),!1;var r=(new e).init(this);return r.track.apply(r,t)},re.prototype._prepare_callback=function(e,t){if(k.isUndefined(e))return null;if(V){var r=function(r){e(r,t)};return r}var n=this._jsc,i=""+Math.floor(1e8*Math.random()),o=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(r){delete n[i],e(r,t)},o},re.prototype._send_request=function(e,t,r){if(Y)return void this.__request_queue.push(arguments);var n=this.get_config("verbose");if(t.verbose&&(n=!0),this.get_config("test")&&(t.test=1),n&&(t.verbose=1),this.get_config("img")&&(t.img=1),V||(r?t.callback=r:(n||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+k.HTTPBuildQuery(t),"img"in t){var i=document.createElement("img");i.src=e,document.body.appendChild(i)}else if(V)try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)r&&r(n?k.JSONDecode(o.responseText):Number(o.responseText));else{var e="Bad HTTP status: "+o.status+" "+o.statusText;w.error(e),r&&r(n?{status:0,error:e}:0)}},o.send(null)}catch(e){w.error(e)}else{var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.defer=!0,s.src=e;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)}},re.prototype._execute_array=function(e){var t,r=[],n=[],i=[];k.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):k.isArray(e)&&"alias"===t?r.push(e):k.isArray(e)&&t.indexOf("track")!==-1&&"function"==typeof this[t]?i.push(e):n.push(e))},this);var o=function(e,t){k.each(e,function(e){this[e[0]].apply(this,e.slice(1))},t)};o(r,this),o(n,this),o(i,this)},re.prototype.push=function(e){this._execute_array([e])},re.prototype.disable=function(e){"undefined"==typeof e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},re.prototype.track=function(e,t,r){if("function"!=typeof r&&(r=function(){}),k.isUndefined(e))return void w.error("No event name provided to mixpanel.track");if(this._event_is_disabled(e))return void r(0);t=t||{},t.token=this.get_config("token");var n=this.persistence.remove_event_timer(e);if(!k.isUndefined(n)){var i=(new Date).getTime()-n;t.$duration=parseFloat((i/1e3).toFixed(3))}this.persistence.update_search_keyword(document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document.referrer),t=k.extend({},k.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=k.extend({},t,this.mp_counts),this.mp_counts={$__c:0},k.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(e){w.error(e)}var o=this.get_config("property_blacklist");k.isArray(o)?k.each(o,function(e){delete t[e]}):w.error("Invalid value for property_blacklist config: "+o);var s={event:e,properties:t},a=k.truncate(s,255),c=k.JSONEncode(a),l=k.base64Encode(c);return w.log("MIXPANEL REQUEST:"),w.log(a),this._send_request(this.get_config("api_host")+"/track/",{data:l},this._prepare_callback(r,a)),a},re.prototype.track_pageview=function(e){k.isUndefined(e)&&(e=document.location.href),this.track("mp_page_view",k.info.pageviewInfo(e))},re.prototype.track_links=function(){return this._track_dom.call(this,J,arguments)},re.prototype.track_forms=function(){return this._track_dom.call(this,Q,arguments)},re.prototype.time_event=function(e){return k.isUndefined(e)?void w.error("No event name provided to mixpanel.time_event"):void(this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime()))},re.prototype.register=function(e,t){this.persistence.register(e,t)},re.prototype.register_once=function(e,t,r){this.persistence.register_once(e,t,r)},re.prototype.unregister=function(e){this.persistence.unregister(e)},re.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)},re.prototype.identify=function(e,t,r,n,i,o){e!==this.get_distinct_id()&&e!==this.get_property(q)&&(this.unregister(q),this._register_single("distinct_id",e)),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,r,n,i,o)},re.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:k.UUID()},"")},re.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},re.prototype.alias=function(e,t){if(e===this.get_property(R))return w.critical("Attempting to create alias for existing People user - aborting."),-2;var r=this;return k.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(q,e),this.track("$create_alias",{alias:e,distinct_id:t},function(){r.identify(e)})):(w.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},re.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},re.prototype.set_config=function(e){k.isObject(e)&&(k.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),o.DEBUG=o.DEBUG||this.get_config("debug"))},re.prototype.get_config=function(e){return this.config[e]},re.prototype.get_property=function(e){return this.persistence.props[e]},re.prototype.toString=function(){var e=this.get_config("name");return e!==I&&(e="mixpanel."+e),e},re.prototype._event_is_disabled=function(e){return k.isBlockedUA(m)||this._flags.disable_all_events||k.include(this.__disabled_events,e)},re.prototype._check_and_handle_notifications=function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){w.log("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"2",lib:"web",token:this.get_config("token"),distinct_id:e},r=this;this._send_request(this.get_config("decide_host")+"/decide/",t,this._prepare_callback(function(e){e.notifications&&e.notifications.length>0&&r._show_notification.call(r,e.notifications[0])}))}},re.prototype._show_notification=function(e){var t=new te(e,this);t.show()},ne.prototype._init=function(e){this._mixpanel=e},ne.prototype.set=function(e,t,r){var n={},i={};return k.isObject(e)?(k.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i=k.extend({},k.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i),n[U]=i,this._send_request(n,r)},ne.prototype.set_once=function(e,t,r){var n={},i={};return k.isObject(e)?(k.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,n[j]=i,this._send_request(n,r)},ne.prototype.increment=function(e,t,r){var n={},i={};return k.isObject(e)?(k.each(e,function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void w.error("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}},this),r=t):(k.isUndefined(t)&&(t=1),i[e]=t),n[L]=i,this._send_request(n,r)},ne.prototype.append=function(e,t,r){var n={},i={};return k.isObject(e)?(k.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,n[H]=i,this._send_request(n,r)},ne.prototype.union=function(e,t,r){var n={},i={};return k.isObject(e)?(k.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=k.isArray(e)?e:[e])},this),r=t):i[e]=k.isArray(t)?t:[t],n[F]=i,this._send_request(n,r)},ne.prototype.track_charge=function(e,t,r){return!k.isNumber(e)&&(e=parseFloat(e),isNaN(e))?void w.error("Invalid value passed to mixpanel.people.track_charge - must be a number"):this.append("$transactions",k.extend({$amount:e},t),r)},ne.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},ne.prototype.delete_user=function(){if(!this._identify_called())return void w.error("mixpanel.people.delete_user() requires you to call identify() first");var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)},ne.prototype.toString=function(){return this._mixpanel.toString()+".people"},ne.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=k.encodeDates(e),n=k.truncate(r,255),i=k.JSONEncode(r),o=k.base64Encode(i);return this._identify_called()?(w.log("MIXPANEL PEOPLE REQUEST:"),w.log(n),this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:o},this._mixpanel._prepare_callback(t,n)),n):(this._enqueue(e),k.isUndefined(t)||t(this._get_config("verbose")?{status:-1,error:null}:-1),n)},ne.prototype._get_config=function(e){return this._mixpanel.get_config(e)},ne.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0},ne.prototype._enqueue=function(e){U in e?this._mixpanel.persistence._add_to_people_queue(U,e):j in e?this._mixpanel.persistence._add_to_people_queue(j,e):L in e?this._mixpanel.persistence._add_to_people_queue(L,e):H in e?this._mixpanel.persistence._add_to_people_queue(H,e):F in e?this._mixpanel.persistence._add_to_people_queue(F,e):w.error("Invalid call to _enqueue():",e)},ne.prototype._flush=function(e,t,r,n,i){var o=this,s=k.extend({},this._mixpanel.persistence._get_queue(U)),a=k.extend({},this._mixpanel.persistence._get_queue(j)),c=k.extend({},this._mixpanel.persistence._get_queue(L)),l=this._mixpanel.persistence._get_queue(H),p=k.extend({},this._mixpanel.persistence._get_queue(F));if(k.isUndefined(s)||!k.isObject(s)||k.isEmptyObject(s)||(o._mixpanel.persistence._pop_from_people_queue(U,s),this.set(s,function(t,r){0===t&&o._mixpanel.persistence._add_to_people_queue(U,s),k.isUndefined(e)||e(t,r)})),k.isUndefined(a)||!k.isObject(a)||k.isEmptyObject(a)||(o._mixpanel.persistence._pop_from_people_queue(j,a),this.set_once(a,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(j,a),k.isUndefined(n)||n(e,t)})),k.isUndefined(c)||!k.isObject(c)||k.isEmptyObject(c)||(o._mixpanel.persistence._pop_from_people_queue(L,c),this.increment(c,function(e,r){0===e&&o._mixpanel.persistence._add_to_people_queue(L,c),k.isUndefined(t)||t(e,r)})),k.isUndefined(p)||!k.isObject(p)||k.isEmptyObject(p)||(o._mixpanel.persistence._pop_from_people_queue(F,p),this.union(p,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(F,p),k.isUndefined(i)||i(e,t)})),!k.isUndefined(l)&&k.isArray(l)&&l.length){for(var u,d=function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(H,u),k.isUndefined(r)||r(e,t)},h=l.length-1;h>=0;h--)u=l.pop(),o.append(u,d);o._mixpanel.persistence.save()}},ne.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},re._Notification=function(e,t){k.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.campaign_id=k.escapeHTML(e.id),this.message_id=k.escapeHTML(e.message_id),this.body=(k.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=k.escapeHTML(e.cta)||"Close",this.notif_type=k.escapeHTML(e.type)||"takeover",this.style=k.escapeHTML(e.style)||"light",this.title=k.escapeHTML(e.title)||"",this.video_width=te.VIDEO_WIDTH,this.video_height=te.VIDEO_HEIGHT,this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,this.video_url=e.video_url||null,this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?te.NOTIF_WIDTH_MINI:te.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()},te=re._Notification,te.ANIM_TIME=200,te.MARKUP_PREFIX="mixpanel-notification",te.BG_OPACITY=.6,te.NOTIF_TOP=25,te.NOTIF_START_TOP=200,te.NOTIF_WIDTH=388,te.NOTIF_WIDTH_MINI=420,te.NOTIF_HEIGHT_MINI=85,te.THUMB_BORDER_SIZE=5,te.THUMB_IMG_SIZE=60,te.THUMB_OFFSET=Math.round(te.THUMB_IMG_SIZE/2),te.VIDEO_WIDTH=595,te.VIDEO_HEIGHT=334,te.prototype.show=function(){var e=this;return this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),void this._preload_images(this._attach_and_animate)):void setTimeout(function(){e.show()},300)},te.prototype.dismiss=k.safewrap(function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e=this.showing_video?this._get_el("video"):this._get_notification_display_el();if(this.use_transitions)this._remove_class("bg","visible"),this._add_class(e,"exiting"),setTimeout(this._remove_notification_el,te.ANIM_TIME);else{var t,r,n;this.mini?(t="right",r=20,n=-100):(t="top",r=te.NOTIF_TOP,n=te.NOTIF_START_TOP+te.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:te.BG_OPACITY,goal:0},{el:e,attr:"opacity",start:1,goal:0},{el:e,attr:t,start:r,goal:n}],te.ANIM_TIME,this._remove_notification_el)}}),te.prototype._add_class=k.safewrap(function(e,t){t=te.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t}),te.prototype._remove_class=k.safewrap(function(e,t){t=te.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))}),te.prototype._animate_els=k.safewrap(function(e,t,r,n){var i,o,s,a=this,c=!1,l=1*new Date;for(n=n||l,s=l-n,i=0;i<e.length;i++)if(o=e[i],"undefined"==typeof o.val&&(o.val=o.start),o.val!==o.goal){c=!0;var p=o.goal-o.start,u=o.goal>=o.start?1:-1;o.val=o.start+p*s/t,"opacity"!==o.attr&&(o.val=Math.round(o.val)),(u>0&&o.val>=o.goal||u<0&&o.val<=o.goal)&&(o.val=o.goal)}if(!c)return void(r&&r());for(i=0;i<e.length;i++)if(o=e[i],o.el){var d="opacity"===o.attr?"":"px";o.el.style[o.attr]=String(o.val)+d}setTimeout(function(){a._animate_els(e,t,r,n)},10)}),te.prototype._attach_and_animate=k.safewrap(function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout(function(){var t=e._get_notification_display_el();if(e.use_transitions)e.mini||e._add_class("bg","visible"),e._add_class(t,"visible"),e._mark_as_shown();else{var r,n,i;e.mini?(r="right",n=-100,i=20):(r="top",n=te.NOTIF_START_TOP+te.NOTIF_TOP,i=te.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:te.BG_OPACITY},{el:t,attr:"opacity",start:0,goal:1},{el:t,attr:r,start:n,goal:i}],te.ANIM_TIME,e._mark_as_shown)}},100),k.register_event(e._get_el("cancel"),"click",function(t){t.preventDefault(),e.dismiss()});var t=e._get_el("button")||e._get_el("mini-content");k.register_event(t,"click",function(t){t.preventDefault(),e.show_video?(e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video()):(e.dismiss(),e.clickthrough&&e._track_event("$campaign_open",{$resource_type:"link"},function(){window.location.href=e.dest_url}))})}}),te.prototype._get_el=function(e){return document.getElementById(te.MARKUP_PREFIX+"-"+e)},te.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},te.prototype._get_shown_campaigns=function(){return this.persistence.props[$]||(this.persistence.props[$]={})},te.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},te.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+te.THUMB_IMG_SIZE+'" height="'+te.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},te.prototype._init_notification_el=function(){var e="",t="",r="",n='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=te.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+n+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var i=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',o=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(i="",o=""),e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+n+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+i+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+o+"</div></div></div>"}this.youtube_video?(t="//www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",r='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t="//player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+te.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',r='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+r+"</div></div>");var s=r+e;this.flip_animate&&(s=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?r:s)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+s+"</div></div></div>").replace(/class=\"/g,'class="'+te.MARKUP_PREFIX+"-").replace(/id=\"/g,'id="'+te.MARKUP_PREFIX+"-")},te.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,r=e,n=te.THUMB_IMG_SIZE+2*te.THUMB_BORDER_SIZE,i=te.ANIM_TIME/1e3+"s";this.mini&&(e="none");var o={},s=te.NOTIF_WIDTH_MINI+20;o["@media only screen and (max-width: "+(s-1)+"px)"]={"#overlay":{display:"none"}};var a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+i},"#bg.visible":{opacity:te.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:te.NOTIF_WIDTH+"px","margin-left":Math.round(-te.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:te.NOTIF_START_TOP+"px",transition:"opacity "+i+", top "+i},"#takeover.visible":{opacity:"1.0",top:te.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:te.NOTIF_START_TOP+"px"},"#thumbspacer":{height:te.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-te.THUMB_BORDER_SIZE+"px",left:te.NOTIF_WIDTH/2-te.THUMB_OFFSET-te.THUMB_BORDER_SIZE+"px",width:n+"px",height:n/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:n+"px",height:n+"px","border-radius":n+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:te.NOTIF_WIDTH/2-te.THUMB_OFFSET+"px",width:te.THUMB_IMG_SIZE+"px",height:te.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":te.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:te.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*te.NOTIF_HEIGHT_MINI+"px","margin-top":20-te.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:te.NOTIF_HEIGHT_MINI+"px","margin-top":te.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+i},"#mini-border":{height:te.NOTIF_HEIGHT_MINI+6+"px",width:te.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":te.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":r},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:te.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+i},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:te.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:te.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:te.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+i},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+i},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+i},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+i},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:te.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+i+", top "+i},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&k.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&k.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var c=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],l=["khtml","moz","ms","o","webkit"];for(var p in a)for(var u=0;u<c.length;u++){var d=c[u];if(d in a[p])for(var h=a[p][d],f=0;f<l.length;f++)a[p]["-"+l[f]+"-"+d]=h}var m=function(e,t){var r=function(e){var t="";for(var r in e){var n=r.replace(/#/g,"#"+te.MARKUP_PREFIX+"-").replace(/\./g,"."+te.MARKUP_PREFIX+"-");t+="\n"+n+" {";var i=e[r];for(var o in i)t+=o+":"+i[o]+";";t+="}"}return t},n=function(e){var t="";for(var n in e)t+="\n"+n+" {"+r(e[n])+"\n}";return t},i=r(e)+n(t),o=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("style");o.appendChild(s),s.setAttribute("type","text/css"),s.styleSheet?s.styleSheet.cssText=i:s.textContent=i};m(a,o)},te.prototype._init_video=k.safewrap(function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in window,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),r=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){window.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var n=document.createElement("script");n.src="//www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}else r&&(e.show_video=!0,e.vimeo_video=r[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}}),te.prototype._mark_as_shown=k.safewrap(function(){var e=this;k.register_event(e._get_el("bg"),"click",function(){e.dismiss()});var t=function(e,t){var r={};return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,null):e.currentStyle&&(r=e.currentStyle),r[t]};if(this.campaign_id){var r=this._get_el("overlay");r&&"hidden"!==t(r,"visibility")&&"none"!==t(r,"display")&&this._mark_delivery()}}),te.prototype._mark_delivery=k.safewrap(function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))}),te.prototype._preload_images=function(e){var t=this;if(0===this.imgs_to_preload.length)return void e();for(var r=0,n=[],i=function(){r++,r===t.imgs_to_preload.length&&e&&(e(),e=null)},o=0;o<this.imgs_to_preload.length;o++){var s=new Image;s.onload=i,s.src=this.imgs_to_preload[o],s.complete&&i(),n.push(s)}this._browser_lte("ie",7)&&setTimeout(function(){var t=!0;for(o=0;o<n.length;o++)n[o].complete||(t=!1);t&&e&&(e(),e=null)},500)},te.prototype._remove_notification_el=k.safewrap(function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)}),te.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),!this.browser_versions.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var t=this.browser_versions.ie,r=document.createElement("div").style,n=function(e){if(e in r)return!0;if(!t){e=e[0].toUpperCase()+e.slice(1);for(var n=["O"+e,"Webkit"+e,"Moz"+e],i=0;i<n.length;i++)if(n[i]in r)return!0}return!1};this.use_transitions=this.body_el&&n("transition")&&n("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&n("backfaceVisibility")&&n("perspective")&&n("transform")},te.prototype._switch_to_video=k.safewrap(function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:te.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var r=e._get_el("bg"),n=e._get_el("overlay");r.style.width="100%",r.style.height="100%",n.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(r,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:te.BG_OPACITY})}var i=e._get_el("video-holder");i.innerHTML=e.video_iframe;var o=function(){window.YT&&window.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(o,te.ANIM_TIME)):e._animate_els(t,te.ANIM_TIME,o)}),te.prototype._track_event=function(e,t,r){this.campaign_id?(t=t||{},t=k.extend(t,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,r)):r&&r.call()},te.prototype._yt_video_ready=k.safewrap(function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),r=e._get_el("video-time"),n=e._get_el("video-progress");new window.YT.Player(te.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(i){var o=i.target,s=o.getDuration(),a=function(e){return("00"+e).slice(-2)},c=function(e){var t=Math.round(s-e),n=Math.floor(t/60),i=Math.floor(n/60);t-=60*n,n-=60*i,r.innerHTML="-"+(i?i+":":"")+a(n)+":"+a(t)};c(0),e._video_progress_checker=window.setInterval(function(){var e=o.getCurrentTime();t.style.width=e/s*100+"%",c(e)},250),k.register_event(n,"click",function(e){var t=Math.max(0,e.pageX-n.getBoundingClientRect().left);o.seekTo(s*t/n.clientWidth,!0)})}}})}}),re.prototype.init=re.prototype.init,re.prototype.reset=re.prototype.reset,re.prototype.disable=re.prototype.disable,re.prototype.time_event=re.prototype.time_event,re.prototype.track=re.prototype.track,re.prototype.track_links=re.prototype.track_links,re.prototype.track_forms=re.prototype.track_forms,re.prototype.track_pageview=re.prototype.track_pageview,re.prototype.register=re.prototype.register,re.prototype.register_once=re.prototype.register_once,re.prototype.unregister=re.prototype.unregister,re.prototype.identify=re.prototype.identify,re.prototype.alias=re.prototype.alias,re.prototype.name_tag=re.prototype.name_tag,re.prototype.set_config=re.prototype.set_config,re.prototype.get_config=re.prototype.get_config,re.prototype.get_property=re.prototype.get_property,re.prototype.get_distinct_id=re.prototype.get_distinct_id,re.prototype.toString=re.prototype.toString,re.prototype._check_and_handle_notifications=re.prototype._check_and_handle_notifications,re.prototype._show_notification=re.prototype._show_notification,ee.prototype.properties=ee.prototype.properties,ee.prototype.update_search_keyword=ee.prototype.update_search_keyword,ee.prototype.update_referrer_info=ee.prototype.update_referrer_info,ee.prototype.get_cross_subdomain=ee.prototype.get_cross_subdomain,ee.prototype.clear=ee.prototype.clear,ne.prototype.set=ne.prototype.set,ne.prototype.set_once=ne.prototype.set_once,ne.prototype.increment=ne.prototype.increment,ne.prototype.append=ne.prototype.append,ne.prototype.union=ne.prototype.union,ne.prototype.track_charge=ne.prototype.track_charge,ne.prototype.clear_charges=ne.prototype.clear_charges,ne.prototype.delete_user=ne.prototype.delete_user,ne.prototype.toString=ne.prototype.toString,k.safewrap_class(re,["identify","_check_and_handle_notifications","_show_notification"]);var oe={},se=function(){k.each(oe,function(e,t){t!==I&&(N[t]=e)}),N._=k},ae=function(){N.init=function(e,t,r){if(r)return N[r]||(N[r]=oe[r]=ie(e,t,r),N[r]._loaded()),N[r];var n=N;oe[I]?n=oe[I]:e&&(n=ie(e,t,I),n._loaded(),oe[I]=n),N=n,C===S&&(window[I]=N),se()}},ce=function(){function e(){e.done||(e.done=!0,K=!0,Y=!1,k.each(oe,function(e){e._dom_loaded()}))}function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}if(document.addEventListener)"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);var r=!1;try{r=null===window.frameElement}catch(e){}document.documentElement.doScroll&&r&&t()}k.register_event(window,"load",e,!0)},le=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(k.cookie.get("mp_"+t+"__c"))||0;var r=function(){e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,k.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)},n=function(){try{e.mp_counts=e.mp_counts||{},r()}catch(e){w.error(e)}};k.register_event(document,"submit",n),k.register_event(document,"change",n);var i=null;k.register_event(document,"mousedown",function(e){i=e.target}),k.register_event(document,"mouseup",function(e){e.target===i&&n(e)})},pe=n();t.exports=pe},{}],72:[function(e,t,r){!function(t,r){function n(e){var t="";if(e=parseInt(e,10),!e||e<1)return t;for(;e;)t+="0",e-=1;return t}function i(e,t,r){return null==e&&(e=""),e=""+e,(r?e:"")+n(t-e.length)+(r?"":e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){for(var r=e.length;r-=1;)if(t(e[r]))return e[r]}function c(e,t){var r,n=0,i=e.length;for("function"!=typeof t&&(r=t,t=function(e){return e===r});n<i;){if(t(e[n]))return e[n];n+=1}}function l(e,t){var r=0,n=e.length;if(e&&n)for(;r<n;){if(t(e[r],r)===!1)return;r+=1}}function p(e,t){var r=0,n=e.length,i=[];if(!e||!n)return i;for(;r<n;)i[r]=t(e[r],r),r+=1;return i}function u(e,t){return p(e,function(e){return e[t]})}function d(e){var t=[];return l(e,function(e){e&&t.push(e)}),t}function h(e){var t=[];return l(e,function(e){c(t,e)||t.push(e)}),t}function f(e,t){var r=[];return l(e,function(e){l(t,function(t){e===t&&r.push(e)})}),h(r)}function m(e,t){var r=[];return l(e,function(n,i){if(!t(n))return r=e.slice(i),!1}),r}function g(e,t){var r=e.slice().reverse();return m(r,t).reverse()}function y(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var v;if("function"==typeof e)try{v=e("moment")}catch(e){}if(!v&&t.moment&&(v=t.moment),!v)throw"Moment Duration Format cannot find Moment.js";v.duration.fn.format=function(){var e,t,r,a,b,_,k=[].slice.call(arguments),w=y({},this.format.defaults),E=v.duration(this);return w.duration=this,l(k,function(e){return"string"==typeof e||"function"==typeof e?void(w.template=e):"number"==typeof e?void(w.precision=e):void(s(e)&&y(w,e))}),r=w.types=o(w.types)?w.types:w.types.split(" "),"function"==typeof w.template&&(w.template=w.template.apply(w)),e=new RegExp(p(r,function(e){return w[e].source}).join("|"),"g"),a=function(e){return c(r,function(t){return w[t].test(e)})},t=p(w.template.match(e),function(e,t){var r=a(e),n=e.length;return{index:t,length:n,token:"escape"===r?e.replace(w.escape,"$1"):e,type:"escape"===r||"general"===r?null:r}},this),b=f(r,h(d(u(t,"type")))),b.length?(l(b,function(e,r){var n,i,o,s,a;n=E.as(e),i=n>0?Math.floor(n):Math.ceil(n),o=n-i,s=r+1===b.length,a=!r,l(t,function(t){t.type===e&&(y(t,{value:n,wholeValue:i,decimalValue:o,isLeast:s,isMost:a}),a&&null==w.forceLength&&t.length>1&&(w.forceLength=!0))}),E.subtract(i,e)}),w.trim&&(t=("left"===w.trim?m:g)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),_=!1,"right"===w.trim&&t.reverse(),t=p(t,function(e){var t,r;if(!e.type)return e.token;if(t=e.isLeast&&w.precision<0?(Math.floor(e.wholeValue*Math.pow(10,w.precision))*Math.pow(10,-w.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(_||e.isMost||w.forceLength)&&(t=i(t,e.length)),e.isLeast&&w.precision>0)switch(r=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),r.length){case 1:t+="."+i(r[0],w.precision,!0).slice(0,w.precision);break;case 2:t+="."+i(r[1],w.precision,!0).slice(0,w.precision);break;case 3:t+="."+i(n(+r[2]-1)+(r[0]||"0")+r[1],w.precision,!0).slice(0,w.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),_=!0,t}),"right"===w.trim&&t.reverse(),t.join("")):u(t,"token").join("")},v.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,r=a(e,function(e){return t._data[e]});switch(r){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},{moment:"moment"}],73:[function(t,r,n){!function(i,o){"function"==typeof t&&"object"==typeof n&&"object"==typeof r?r.exports=o():"function"==typeof e&&e.amd?e(function(){return o()}):i.pluralize=o()}(this,function(){function e(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function t(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function r(t,r){return t===r?r:t===t.toUpperCase()?r.toUpperCase():t[0]===t[0].toUpperCase()?e(r):r.toLowerCase()}function n(e,t){return e.replace(/\$(\d{1,2})/g,function(e,r){return t[r]||""})}function i(e,t,i){if(!e.length||l.hasOwnProperty(e))return t;for(var o=i.length;o--;){var s=i[o];if(s[0].test(t))return t.replace(s[0],function(e,t,i){var o=n(s[1],arguments);return""===e?r(i[t-1],o):r(e,o)})}return t}function o(e,t,n){return function(o){var s=o.toLowerCase();return t.hasOwnProperty(s)?r(o,s):e.hasOwnProperty(s)?r(o,e[s]):i(s,o,n)}}function s(e,t,r){var n=1===t?s.singular(e):s.plural(e);return(r?t+" ":"")+n}var a=[],c=[],l={},p={},u={};return s.plural=o(u,p,a),s.singular=o(p,u,c),s.addPluralRule=function(e,r){a.push([t(e),r])},s.addSingularRule=function(e,r){c.push([t(e),r])},s.addUncountableRule=function(e){return"string"==typeof e?void(l[e.toLowerCase()]=!0):(s.addPluralRule(e,"$0"),void s.addSingularRule(e,"$0"))},s.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),u[e]=t,p[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return s.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return s.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return s.addSingularRule(e[0],e[1])}),["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(s.addUncountableRule),s})},{}],74:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):y=-1,m.length&&c())}function c(){if(!g){var e=o(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++y<t;)f&&f[y].run();y=-1,t=m.length}f=null,g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,m=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new l(e,t)),1!==m.length||g||o(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],75:[function(t,r,n){(function(t){!function(i){function o(e){throw new RangeError(A[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function a(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(B,".");var i=e.split("."),o=s(i,t).join(".");return n+o}function c(e){for(var t,r,n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=j(e>>>10&1023|55296),e=56320|1023&e),t+=j(e)}).join("")}function p(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,r){var n=0;for(e=r?U(e/N):e>>1,e+=U(e/t);e>M*x>>1;n+=E)e=U(e/M);return U(n+(M+1)*e/(e+C))}function h(e){var t,r,n,i,s,a,c,u,h,f,m=[],g=e.length,y=0,v=S,b=P;for(r=e.lastIndexOf(I),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(s=y,a=1,c=E;i>=g&&o("invalid-input"),u=p(e.charCodeAt(i++)),(u>=E||u>U((w-y)/a))&&o("overflow"),y+=u*a,h=c<=b?T:c>=b+x?x:c-b,!(u<h);c+=E)f=E-h,a>U(w/f)&&o("overflow"),a*=f;t=m.length+1,b=d(y-s,t,0==s),U(y/t)>w-v&&o("overflow"),v+=U(y/t),y%=t,m.splice(y++,0,v)}return l(m)}function f(e){var t,r,n,i,s,a,l,p,h,f,m,g,y,v,b,_=[];for(e=c(e),g=e.length,t=S,r=0,s=P,a=0;a<g;++a)m=e[a],m<128&&_.push(j(m));for(n=i=_.length,i&&_.push(I);n<g;){for(l=w,a=0;a<g;++a)m=e[a],m>=t&&m<l&&(l=m);for(y=n+1,l-t>U((w-r)/y)&&o("overflow"),r+=(l-t)*y,t=l,a=0;a<g;++a)if(m=e[a],m<t&&++r>w&&o("overflow"),m==t){for(p=r,h=E;f=h<=s?T:h>=s+x?x:h-s,!(p<f);h+=E)b=p-f,v=E-f,_.push(j(u(f+b%v,0))),p=U(b/v);_.push(j(u(p,0))),s=d(r,y,n==i),r=0,++n}++r,++t}return _.join("")}function m(e){return a(e,function(e){return O.test(e)?h(e.slice(4).toLowerCase()):e})}function g(e){return a(e,function(e){return D.test(e)?"xn--"+f(e):e})}var y="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof r&&r&&!r.nodeType&&r,b="object"==typeof t&&t;b.global!==b&&b.window!==b&&b.self!==b||(i=b);var _,k,w=2147483647,E=36,T=1,x=26,C=38,N=700,P=72,S=128,I="-",O=/^xn--/,D=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=E-T,U=Math.floor,j=String.fromCharCode;if(_={version:"1.4.1",ucs2:{decode:c,encode:l},decode:h,encode:f,toASCII:g,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return _});else if(y&&v)if(r.exports==y)v.exports=_;else for(k in _)_.hasOwnProperty(k)&&(y[k]=_[k]);else i.punycode=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var p=0;p<l;++p){var u,d,h,f,m=e[p].replace(a,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),d=m.substr(g+1)):(u=m,d=""),h=decodeURIComponent(u),f=decodeURIComponent(d),n(s,h)?i(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],77:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(i(s))+r;return o(e[s])?n(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],78:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":76,"./encode":77}],79:[function(e,t,r){"use strict";var n=e("react"),i=e("classnames"),o=e("./NPSScale"),s=n.createClass({displayName:"NPSInput",propTypes:{animated:n.PropTypes.bool,service:n.PropTypes.string,onSubmit:n.PropTypes.func.isRequired,onDismissed:n.PropTypes.func.isRequired,children:n.PropTypes.func},getDefaultProps:function(){return{animated:!0,onSubmit:function(){},onDismissed:function(){},children:function(){return"Thank you for your feedback!"}}},getInitialState:function(){return{dismissed:!1,score:null}},onSubmit:function e(t){var e=this.props.onSubmit;this.setState({score:t},function(){e({score:t})})},onDismiss:function(){var e=this.props.onDismissed,t=this.state.score;this.setState({dismissed:!0},function(){e({score:t})})},render:function(){var e=this.props,t=e.animated,r=e.service,s=e.children,a=this.state,c=a.dismissed,l=a.score,p=r?"How likely are you to recommend "+r+" to your friends and colleagues?":"How likely are you to recommend us to your friends and colleagues?";return c?null:n.createElement("div",{className:i("NPSInput",{animated:t})},n.createElement("button",{className:"NPSInput-Close",onClick:this.onDismiss},""),l?n.createElement("div",{className:"NPSInput-Inner"},s({score:l,dismiss:this.onDismiss})):n.createElement("div",{className:"NPSInput-Inner"},n.createElement("p",{className:"NPSInput-Message"},p),n.createElement(o,{onSubmit:this.onSubmit})))}});t.exports=s},{"./NPSScale":80,classnames:37,react:"react"}],80:[function(e,t,r){"use strict";function n(e,t){return Array(t-e+1).fill().map(function(t,r){return e+r})}var i=e("react"),o=e("classnames"),s=0,a=10,c=i.createClass({displayName:"NPSScale",propTypes:{onSubmit:i.PropTypes.func.isRequired},getDefaultProps:function(){return{onSubmit:function(e){}}},getInitialState:function(){return{value:null}},onMouseEnter:function(e){this.setState({value:e})},onMouseLeave:function(e){this.setState({value:null})},onSelect:function(e){var t=this.props.onSubmit;t(e)},render:function(){var e=this,t=this.state.value;return i.createElement("div",{className:"NPSScale"},i.createElement("div",{className:"NPSScale-Values"},n(s,a).map(function(r){return i.createElement("div",{key:r,className:o("NPSScale-Value",{selected:null!==t&&t>=r}),onMouseEnter:function(){return e.onMouseEnter(r)},onMouseLeave:function(){return e.onMouseLeave(r)},onClick:function(){return e.onSelect(r)}},i.createElement("div",null,r))})),i.createElement("div",{className:"NPSScale-Legend"},i.createElement("div",{className:"NPSScale-Label left"},"Not at all likely"),i.createElement("div",{className:"NPSScale-Label right"},"Extremely likely")))}});t.exports=c},{classnames:37,react:"react"}],81:[function(e,t,r){"use strict";t.exports=e("./NPSInput")},{"./NPSInput":79}],82:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function e(t){n(this,e);var r=[];t=t||{},this.subscribe=function(e){r.push(e)},this.unsubscribe=function(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)},this.update=function(e){e&&e(t),r.forEach(function(e){return e(t)})}};r.default=i,t.exports=r.default},{}],83:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),l=n(c),p=e("react-dom"),u=n(p),d=e("./channel"),h=n(d),f=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.updateOffset=function(e){var t=e.inherited,n=e.offset;r.channel.update(function(e){e.inherited=t+n})},r.channel=new h.default({inherited:0,offset:0,node:null}),r}return s(t,e),a(t,[{key:"getChildContext",value:function(){return{"sticky-channel":this.channel}}},{key:"componentWillMount",value:function(){var e=this.context["sticky-channel"];e&&e.subscribe(this.updateOffset)}},{key:"componentDidMount",value:function(){var e=u.default.findDOMNode(this);this.channel.update(function(t){t.node=e})}},{key:"componentWillUnmount",value:function(){this.channel.update(function(e){e.node=null});var e=this.context["sticky-channel"];e&&e.unsubscribe(this.updateOffset)}},{key:"render",value:function(){return l.default.createElement("div",this.props,this.props.children)}}]),t}(l.default.Component);f.contextTypes={"sticky-channel":l.default.PropTypes.any},f.childContextTypes={"sticky-channel":l.default.PropTypes.any},r.default=f,t.exports=r.default},{"./channel":82,react:"react","react-dom":"react-dom"}],84:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.Channel=r.StickyContainer=r.Sticky=void 0;var i=e("./sticky"),o=n(i),s=e("./container"),a=n(s),c=e("./channel"),l=n(c);r.Sticky=o.default,r.StickyContainer=a.default,r.Channel=l.default,r.default=o.default},{"./channel":82,"./container":83,"./sticky":85}],85:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=e("react"),u=n(p),d=e("react-dom"),h=n(d),f=function(e){function t(e){o(this,t);var r=s(this,Object.getPrototypeOf(t).call(this,e));return r.updateContext=function(e){var t=e.inherited,n=e.node;r.containerNode=n,r.setState({containerOffset:t,distanceFromBottom:r.getDistanceFromBottom()})},r.recomputeState=function(){var e=r.isSticky(),t=r.getHeight(),n=r.getWidth(),i=r.getXOffset(),o=r.getDistanceFromBottom(),s=r.state.isSticky!==e;r.setState({isSticky:e,height:t,width:n,xOffset:i,distanceFromBottom:o}),s&&(r.channel&&r.channel.update(function(t){t.offset=e?r.state.height:0}),r.props.onStickyStateChange(e))},r.state={},r}return a(t,e),l(t,[{key:"componentWillMount",value:function(){this.channel=this.context["sticky-channel"],this.channel.subscribe(this.updateContext)}},{key:"componentDidMount",value:function(){this.on(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.recomputeState()}},{key:"componentWillReceiveProps",value:function(){this.recomputeState()}},{key:"componentWillUnmount",value:function(){this.off(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.channel.unsubscribe(this.updateContext)}},{key:"getXOffset",value:function(){return this.refs.placeholder.getBoundingClientRect().left}},{key:"getWidth",value:function(){return this.refs.placeholder.getBoundingClientRect().width}},{key:"getHeight",value:function(){return h.default.findDOMNode(this.refs.children).getBoundingClientRect().height}},{key:"getDistanceFromTop",value:function(){return this.refs.placeholder.getBoundingClientRect().top}},{key:"getDistanceFromBottom",value:function(){return this.containerNode?this.containerNode.getBoundingClientRect().bottom:0}},{key:"isSticky",value:function(){if(!this.props.isActive)return!1;var e=this.getDistanceFromTop(),t=this.getDistanceFromBottom(),r=this.state.containerOffset-this.props.topOffset,n=this.state.containerOffset+this.props.bottomOffset;return e<=r&&t>=n}},{key:"on",value:function(e,t){e.forEach(function(e){window.addEventListener(e,t)})}},{key:"off",value:function(e,t){e.forEach(function(e){window.removeEventListener(e,t)})}},{key:"shouldComponentUpdate",value:function(e,t){var r=this,n=Object.keys(this.props);if(Object.keys(e).length!=n.length)return!0;var i=n.every(function(t){return e.hasOwnProperty(t)&&e[t]===r.props[t]});if(!i)return!0;var o=this.state;if(t.isSticky!==o.isSticky)return!0;if(o.isSticky){if(t.height!==o.height)return!0;if(t.width!==o.width)return!0;if(t.xOffset!==o.xOffset)return!0;if(t.containerOffset!==o.containerOffset)return!0;if(t.distanceFromBottom!==o.distanceFromBottom)return!0}return!1}},{key:"render",value:function(){var e={paddingBottom:0},t=this.props.className,r=c({},{transform:"translateZ(0)"},this.props.style);if(this.state.isSticky){var n={position:"fixed",top:this.state.containerOffset,left:this.state.xOffset,width:this.state.width},o=this.state.distanceFromBottom-this.state.height-this.props.bottomOffset;this.state.containerOffset>o&&(n.top=o),e.paddingBottom=this.state.height,t+=" "+this.props.stickyClassName,r=c({},r,n,this.props.stickyStyle)}var s=this.props,a=(s.topOffset,s.isActive,s.stickyClassName,s.stickyStyle,s.bottomOffset,s.onStickyStateChange,i(s,["topOffset","isActive","stickyClassName","stickyStyle","bottomOffset","onStickyStateChange"]));return u.default.createElement("div",null,u.default.createElement("div",{ref:"placeholder",style:e}),u.default.createElement("div",c({},a,{ref:"children",className:t,style:r}),this.props.children))}}]),t}(u.default.Component);f.propTypes={isActive:u.default.PropTypes.bool,className:u.default.PropTypes.string,style:u.default.PropTypes.object,stickyClassName:u.default.PropTypes.string,stickyStyle:u.default.PropTypes.object,topOffset:u.default.PropTypes.number,bottomOffset:u.default.PropTypes.number,onStickyStateChange:u.default.PropTypes.func},f.defaultProps={isActive:!0,className:"",style:{},stickyClassName:"sticky",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){}},f.contextTypes={"sticky-channel":u.default.PropTypes.any},r.default=f,t.exports=r.default},{react:"react","react-dom":"react-dom"}],86:[function(t,r,n){"use strict";!function(t,n){"function"==typeof e&&e.amd?e([],n):"object"==typeof r&&r.exports?r.exports=n():t.striptags=n()}(this,function(){function e(e,a,c){function l(e){f==r?g+=e:a&&f==n&&(y+=e)}function p(){var e,t,r,n="",i=!1;e:for(e=0,t=y.length;e<t;e++)switch(r=y[e].toLowerCase()){case"<":break;case">":break e;case"/":i=!0;break;default:if(r.match(s)){if(i)break e}else i=!0,n+=r}a.indexOf(n)!==-1?g+=y:c&&(g+=c),y=""}var u,d,h,e=e||"",f=r,m=0,g="",y="",v=!1;for("string"==typeof a?a=t(a):Array.isArray(a)||(a=null),u=0,d=e.length;u<d;u++)switch(h=e[u]){case"<":if(v)break;if(" "==e[u+1]){l(h);break}if(f==r){f=n,l(h);break}if(f==n){m++;break}l(h);break;case">":if(m){m--;break}if(v)break;if(f==n){v=f=0,a&&(y+=">",p());break}if(f==i){v=f=0,y="";break}if(f==o&&"-"==e[u-1]&&"-"==e[u-2]){v=f=0,y="";break}l(h);break;case'"':case"'":f==n&&(v==h?v=!1:v||(v=h)),l(h);break;case"!":if(f==n&&"<"==e[u-1]){f=i;break}l(h);break;case"-":if(f==i&&"-"==e[u-1]&&"!"==e[u-2]){f=o;break}l(h);break;case"E":case"e":if(f==i&&"doctype"==e.substr(u-6,7).toLowerCase()){f=n;break}l(h);break;default:l(h)}return g}function t(e){for(var t,r=[];null!==(t=a.exec(e));)r.push(t[1]);return 0!==r.length?r:null}var r=0,n=1,i=2,o=3,s=/\s/,a=/<(\w*)>/g;return e})},{}],87:[function(e,t,r){!function(e,r){"use strict";function n(e,t,r){return r.length!==e.length&&t.ellipsis?r+=t.ellipsis:r}function i(e,t,r){var i,a,c="",l=!0,p=t;if(r=r||{},r.ellipsis="undefined"==typeof r.ellipsis?o:r.ellipsis,!e||0===e.length)return"";for(l=!0;l;){if(s.lastIndex=c.length,l=s.exec(e),!l||l.index-c.length>=p)return c+=e.substring(c.length,t),n(e,r,c,t);if(i=l[0],a=l.index,c+=e.substring(c.length,a+i.length),p-=a+i.length,p<=0)break}return n(e,r,c,t)}var o="",s=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g;"undefined"!=typeof t&&t.exports?t.exports=i:e.truncate=i}(String)},{}],88:[function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&l.isObject(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}function o(e){return l.isString(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=e("punycode"),l=e("./util");r.parse=i,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=n;var p=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(f),g=["%","/","?",";","#"].concat(m),y=["/","?","#"],v=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=e("querystring");n.prototype.parse=function(e,t,r){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!r&&1===e.split("#").length){var u=d.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=p.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===a.substr(0,2);!x||h&&w[h]||(a=a.substr(2),this.slashes=!0)}if(!w[h]&&(x||h&&!E[h])){for(var C=-1,N=0;N<y.length;N++){var P=a.indexOf(y[N]);P!==-1&&(C===-1||P<C)&&(C=P)}var S,I;I=C===-1?a.lastIndexOf("@"):a.lastIndexOf("@",C),I!==-1&&(S=a.slice(0,I),a=a.slice(I+1),this.auth=decodeURIComponent(S)),C=-1;for(var N=0;N<g.length;N++){var P=a.indexOf(g[N]);P!==-1&&(C===-1||P<C)&&(C=P)}C===-1&&(C=a.length),this.host=a.slice(0,C),a=a.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var D=this.hostname.split(/\./),N=0,B=D.length;N<B;N++){var A=D[N];if(A&&!A.match(b)){for(var M="",U=0,j=A.length;U<j;U++)M+=A.charCodeAt(U)>127?"x":A[U];if(!M.match(b)){var L=D.slice(0,N),H=D.slice(N+1),F=A.match(_);F&&(L.push(F[1]),H.unshift(F[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=c.toASCII(this.hostname));var R=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+R,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!k[f])for(var N=0,B=m.length;N<B;N++){var $=m[N];if(a.indexOf($)!==-1){var G=encodeURIComponent($);G===$&&(G=escape($)),a=a.split($).join(G)}}var z=a.indexOf("#");z!==-1&&(this.hash=a.substr(z),a=a.slice(0,z));var W=a.indexOf("?");if(W!==-1?(this.search=a.substr(W),this.query=a.substr(W+1),t&&(this.query=T.parse(this.query)),a=a.slice(0,W)):t&&(this.search="",this.query={}),a&&(this.pathname=a),E[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",V=this.search||"";this.path=R+V}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+r+s+n},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var p=a[c];"protocol"!==p&&(r[p]=e[p])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!E[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||w[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||y||r.host&&e.pathname,_=b,k=r.pathname&&r.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],T=r.protocol&&!E[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===k[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=f;else if(f.length)k||(k=[]),k.pop(),k=k.concat(f),r.search=e.search,r.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(T){r.hostname=r.host=k.shift();var x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");x&&(r.auth=x.shift(),r.host=r.hostname=x.shift())}return r.search=e.search,r.query=e.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=k.slice(-1)[0],N=(r.host||e.host||k.length>1)&&("."===C||".."===C)||""===C,P=0,S=k.length;S>=0;S--)C=k[S],"."===C?k.splice(S,1):".."===C?(k.splice(S,1),P++):P&&(k.splice(S,1),P--);if(!b&&!_)for(;P--;P)k.unshift("..");!b||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),N&&"/"!==k.join("/").substr(-1)&&k.push("");var I=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(T){r.hostname=r.host=I?"":k.length?k.shift():"";var x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");x&&(r.auth=x.shift(),r.host=r.hostname=x.shift())}return b=b||r.host&&k.length,b&&!I&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":89,punycode:75,querystring:78}],89:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}]},{},[6])(6)});